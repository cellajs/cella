{
  "projectName": "Cella Sync Engine",
  "description": "A CLI tool to handle git synchronization tasks between a `boilerplate` and `fork` instance, with automatic conflict analysis and resolution, packages updates.",
  "version": "0.1.0",
  "language": "TypeScript",
  "framework": "Hono",
  "lastUpdated": "2025-08-13T14:30:00Z",
  "cliName": "cella-sync-engine",
  "syncProcess": [
    "Create/fetch a new sync-branch in the fork",
    "Add boilerplate as upstream in the fork/sync-branch",
    "Merge commits from fork into fork/sync-branch",
    "Merge commits from boilerplate into fork/sync-branch (attempt auto-resolve conflicts git cannot auto-resolve)",
    "Squash commits from fork/sync-branch into fork for clean history",
    "Merge squash commit back into fork/sync-branch"
  ],
  "folderStructure": {
    "root": ["package.json", "package-lock.json", "index.ts"],
    "src": {
      "config": [
        "behavior.default.ts", 
        "boilerplate.default.ts", 
        "fork.default.ts", 
        "index.ts", 
        "log.default.ts", 
        "swizzle.default.ts", 
        "sync-services.ts", 
        "types.ts"
      ],
      "log": ["analyzed-file.ts", "analyzed-summary.ts", "analyzed-swizzle.ts", "package-summary.ts"],
      "modules": {
        "cli": [
          "commands.ts",
          "display.ts",
          "handlers.ts",
          "prompts.ts",
          "types.ts"
        ],
        "git": [
          "analyze-file-blob.ts",
          "analyze-file-commits.ts",
          "check-file-merge.ts",
          "determine-file-merge-strategy.ts",
          "handle-boilerplate-into-fork-merge.ts"
        ],
        "package": [
          "get-deps-to-update.ts"
        ],
        "setup": [
          "add-as-remote.ts",
          "check-clean-state.ts",
          "check-config.ts",
          "check-repository.ts",
          "fetch-latest-changes.ts"
        ],
        "swizzle": [
          "analyze.ts", 
          "detect-edited.ts",
          "detect-removed.ts", 
          "detect.ts",
          "metadata.ts",
          "settings.ts"
        ],
        "*": ["analyze-file.ts"]
      },
      "types": ["git.ts", "index.ts", "swizzle.ts"],
      "utils": {
        "git": [
          "branches.ts",
          "command.ts", 
          "files.ts", 
          "handle-merge.ts",
          "handle-rebase.ts",
          "handle-squash-merge.ts",
          "helpers.ts",
          "remotes.ts"
        ],
        "*": ["files.ts"]
      },
      "constants.ts": "*",
      "index.ts": "*",
      "run-analyze.ts": "*",
      "run-cli.ts": "*",
      "run-packages.ts": "*",
      "run-setup.ts": "*",
      "run-sync.ts": "*"
    },
    "cli": {
      "cella-sync-engine": ["*"]
    }
  },
  "commands": {
    "sync": "Run full sync process between boilerplate and fork",
    "status": "Check sync status",
    "init": "Initialize sync engine configuration"
  },
  "types": {
    "FileEntry": {
      "path": "string",
      "blobSha": "string",
      "shortBlobSha": "string",
      "lastCommitSha": "string",
      "shortCommitSha": "string"
    },
    "CommitEntry": {
      "sha": "string",
      "date": "string"
    },
    "CommitSummary": {
      "status": "'upToDate' | 'ahead' | 'behind' | 'diverged' | 'unrelated' | 'unknown''",
      "commitsAhead": "number",
      "commitsBehind": "number",
      "sharedAncestorSha?": "string",
      "lastSyncedAt?": "string",
      "historyCoverage": "'complete' | 'partial' | 'unknown'"
    },
    "FileMergeStrategy": {
      "strategy": "'keep-fork' | 'keep-boilerplate' | 'remove-from-fork' | 'remove-from-boilerplate' | 'manual' | 'unknown'",
      "reason": "string"
    },
    "SwizzleEntry": {
      "filePath": "string",
      "swizzled": "boolean",
      "event": "'removed' | 'edited' | 'renamed' | 'binaryReplaced'",
      "sharedAncestorSha?": "string",
      "lastCommitSha?": "string",
      "blobSha?": "string",
      "commitAfterSwizzle?": "string",
      "lastSwizzledAt": "string",
      "boilerplateLastCommitSha?": "string",
      "boilerplateBlobSha?": "string"
    },
    "SwizzleMetadata": {
      "version": "string",
      "lastSyncedAt": "string",
      "entries": "Record<string, SwizzleEntry>"
    },
    "SwizzleAnalysis": {
      "existingMetadata?": "SwizzleEntry",
      "existingMetadataValid?": "boolean",
      "newMetadata?": "SwizzleEntry",
      "flaggedInSettingsAs?": "'removed' | 'edited' | undefined"
    },
    "FileAnalysis": {
      "filePath": "string",
      "boilerplateFile": "FileEntry",
      "forkFile?": "FileEntry",
      "commitSummary?": "CommitSummary",
      "blobStatus?": "'identical' | 'different' | 'missing'",
      "swizzle?": "SwizzleAnalysis",
      "mergeStrategy?": "FileMergeStrategy"
    },
    "MergeResult": {
      "status": "'success' | 'conflict' | 'error'",
      "error?": "Error",
      "isMerging?": "boolean"
    },
    "PackageJson": {
      "dependencies?": "Record<string, string>",
      "devDependencies?": "Record<string, string>",
      "[key: string]": "any"
    }
  },
  "metadataVersion": "1.0.0"
}