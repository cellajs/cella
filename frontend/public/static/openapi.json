{
  "servers": [
    {
      "url": "http://localhost:4000"
    }
  ],
  "info": {
    "title": "Cella DEVELOPMENT API",
    "version": "v1",
    "description": "⚠️ ATTENTION: PRERELEASE!  \n                  This API is organized into modules based on logical domains (e.g. `auth`, `organizations`, `memberships`).\n                  Each module includes a set of endpoints that expose functionality related to a specific resource or cross resource logic.\n\n                  The documentation is generated from source code using `zod` schemas, converted into OpenAPI via `zod-openapi` and served through the `hono` framework.",
    "x-extensions": [
      {
        "key": "x-guard",
        "id": "xGuard",
        "description": "Authorization middleware applied to the endpoint",
        "required": true,
        "values": {
          "publicGuard": {
            "name": "public",
            "description": "No authentication required; provides baseDb without RLS context"
          },
          "authGuard": {
            "name": "auth",
            "description": "Requires valid session and sets auth context (user, memberships, baseDb)"
          },
          "crossTenantGuard": {
            "name": "crossTenant",
            "description": "Requires authGuard and sets user-scoped RLS db context for cross-tenant access"
          },
          "orgGuard": {
            "name": "org",
            "description": "Validates organization membership within tenant context"
          },
          "relatableGuard": {
            "name": "relatable",
            "description": "Checks that the requesting user shares at least one organization with the target user"
          },
          "sysAdminGuard": {
            "name": "sysAdmin",
            "description": "Requires system admin + IP whitelist"
          },
          "tenantGuard": {
            "name": "tenant",
            "description": "Requires authGuard, validates tenant access, and sets tenant-scoped RLS db context"
          }
        }
      },
      {
        "key": "x-rate-limiter",
        "id": "xRateLimiter",
        "description": "Rate limiting rules applied to the endpoint",
        "required": false,
        "values": {
          "spamLimiter": {
            "name": "spam",
            "description": "Max 10 requests/hour per IP for email-sending endpoints"
          },
          "emailEnumLimiter": {
            "name": "emailEnum",
            "description": "Blocks IP for 30 min after 5 consecutive failures"
          },
          "passwordLimiter": {
            "name": "password",
            "description": "Blocks email/IP for 30 min after 10 consecutive failures"
          },
          "presignedUrlLimiter": {
            "name": "presignedUrl",
            "description": "Max 2000 requests/hour per user for presigned URLs"
          },
          "totpVerificationLimiter": {
            "name": "totpVerification",
            "description": "Blocks for 30 min after 5 failed TOTP attempts"
          },
          "passkeyChallengeLimiter": {
            "name": "passkeyChallenge",
            "description": "Max 5 passkey challenges/hour per IP"
          },
          "pointsLimiter": {
            "name": "points",
            "description": "Consumes 1 API point(s) per request against per-tenant hourly budget"
          },
          "tokenLimiter": {
            "name": "token",
            "description": "Blocks IP for 30 min after 10 consecutive token failures"
          }
        }
      },
      {
        "key": "x-cache",
        "id": "xCache",
        "description": "Caching strategy applied to the endpoint",
        "required": false,
        "values": {
          "appCache": {
            "name": "app",
            "description": "TTL cache with session-signed token validation"
          },
          "httpCache": {
            "name": "http",
            "description": "HTTP private cache: max-age=3600s"
          },
          "publicCache": {
            "name": "public",
            "description": "LRU cache for public page entities"
          }
        }
      }
    ]
  },
  "openapi": "3.1.0",
  "tags": [
    {
      "name": "me",
      "description": "Operations scoped to the current user (the user associated with the active session). Includes\n        profile management, session control, MFA toggling, upload token generation, viewing and responding\n        to membership invitations, leaving entities, and email unsubscription. Distinct from `users`\n        operations, which target any user in the system."
    },
    {
      "name": "users",
      "description": "Read-only operations for listing and retrieving users within an organization context. Write\n        operations on users are handled by the `me` (self) and `system` (admin) modules."
    },
    {
      "name": "memberships",
      "description": "Operations for managing memberships, which represent relationships between a user and a\n        context entity (e.g., an organization). Includes inviting users, accepting or rejecting invitations,\n        updating role and status flags (archived, muted), listing members and pending invitations, and\n        removing memberships."
    },
    {
      "name": "organizations",
      "description": "Operations for managing organizations, which are core context entities and the highest\n        ancestor in the entity hierarchy. Supports creating, listing, retrieving, updating, and deleting\n        organizations within a tenant. Cross-tenant listing is available with elevated permissions."
    },
    {
      "name": "requests",
      "description": "Operations for handling public form submissions such as contact messages, newsletter signups,\n        and waitlist entries. Submission is public with bot protection and rate limiting. Listing and\n        deletion require system admin access."
    },
    {
      "name": "entities",
      "description": "Cross-cutting operations that apply across multiple entity types. Includes slug availability\n        checking and real-time SSE streaming (both a public stream for unauthenticated entity updates and\n        an authenticated app stream for per-user entity and membership notifications)."
    },
    {
      "name": "system",
      "description": "System admin operations for platform-wide user management. Includes listing, updating, and\n        deleting users, sending system-level invitations, sending newsletters, and handling payment\n        webhooks."
    },
    {
      "name": "auth",
      "description": "Authentication operations supporting multiple sign-in methods: email/password, OAuth (GitHub,\n        Google, Microsoft), passkeys (WebAuthn), and TOTP. Covers sign-up, sign-in, sign-out, password\n        reset, token invocation, email checking, admin impersonation, and MFA credential management."
    },
    {
      "name": "attachments",
      "description": "Operations for managing file-based attachments (e.g., images, documents) linked to entities.\n        Files are uploaded directly by the client to S3; the API handles metadata registration, retrieval,\n        updates, deletion of records, and presigned URL generation for private files."
    },
    {
      "name": "pages",
      "description": "Operations for managing pages, which are content entities with public read access. Read operations\n        are publicly available with caching. Write operations (create, update, delete) require system admin\n        access and are scoped to a tenant."
    },
    {
      "name": "metrics",
      "description": "Operations for retrieving system-level statistics and observability data. Includes public entity\n        counts (cached, with bot protection), raw system metrics, Node.js runtime metrics, entity cache\n        stats, and CDC sync pipeline metrics. Detailed metrics require system admin access."
    },
    {
      "name": "activities",
      "description": "Operations for retrieving activities (audit log entries). Activities track create, update, and\n        delete events across all resources. Read-only, system admin access only."
    },
    {
      "name": "tenants",
      "description": "System admin operations for managing tenants. Tenants are top-level isolation boundaries used by\n        Row-Level Security (RLS) to partition data. Supports listing, retrieving, creating, updating, and\n        soft-deleting (archiving) tenants."
    },
    {
      "name": "seen",
      "description": "Operations for tracking which product entities a user has viewed. Supports batch marking entities\n        as seen (deduplicating against existing records) and incrementing view counts. Used to power unseen\n        count badges in navigation and view count columns in entity lists."
    }
  ],
  "components": {
    "securitySchemes": {
      "cookieAuth": {
        "type": "apiKey",
        "in": "cookie",
        "name": "cella-development-session-v1",
        "description": "Authentication cookie. Copy cookie from your network tab and paste it here. If you don't have it, you need to sign in or sign up first."
      }
    },
    "responses": {
      "BadRequestError": {
        "description": "Bad request: problem processing request.",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/BadRequestError"
            }
          }
        }
      },
      "UnauthorizedError": {
        "description": "Unauthorized: authentication required.",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/UnauthorizedError"
            }
          }
        }
      },
      "ForbiddenError": {
        "description": "Forbidden: insufficient permissions.",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ForbiddenError"
            }
          }
        }
      },
      "NotFoundError": {
        "description": "Not found: resource does not exist.",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/NotFoundError"
            }
          }
        }
      },
      "TooManyRequestsError": {
        "description": "Rate limit: too many requests.",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/TooManyRequestsError"
            }
          }
        }
      }
    },
    "schemas": {
      "UserMinimalBase": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          },
          "thumbnailUrl": {
            "type": [
              "string",
              "null"
            ]
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "entityType": {
            "type": "string",
            "enum": [
              "user"
            ]
          }
        },
        "required": [
          "id",
          "name",
          "slug",
          "thumbnailUrl",
          "email",
          "entityType"
        ],
        "description": "Minimal user data for references (e.g. createdBy, modifiedBy).",
        "example": {
          "id": "tdwtujxm90dt2d0yptja1h94",
          "name": "Amani Waelchi",
          "slug": "amani.waelchi72",
          "thumbnailUrl": null,
          "email": "amani_waelchi17@gmail.com",
          "entityType": "user"
        }
      },
      "UserBase": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "createdAt": {
            "type": "string"
          },
          "modifiedAt": {
            "type": [
              "string",
              "null"
            ]
          },
          "slug": {
            "type": "string"
          },
          "thumbnailUrl": {
            "type": [
              "string",
              "null"
            ]
          },
          "bannerUrl": {
            "type": [
              "string",
              "null"
            ]
          },
          "description": {
            "type": [
              "string",
              "null"
            ]
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "entityType": {
            "type": "string",
            "enum": [
              "user"
            ]
          }
        },
        "required": [
          "id",
          "name",
          "createdAt",
          "modifiedAt",
          "slug",
          "thumbnailUrl",
          "bannerUrl",
          "description",
          "email",
          "entityType"
        ],
        "description": "Base user schema with essential fields for identification and display.",
        "example": {
          "id": "eyp654w9neyhyka0hezx1xnh",
          "createdAt": "2024-05-14T11:11:41.599Z",
          "modifiedAt": "2024-08-06T10:38:55.463Z",
          "name": "Rosendo Bayer",
          "description": null,
          "entityType": "user",
          "slug": "rosendo.bayer89",
          "thumbnailUrl": null,
          "bannerUrl": null,
          "email": "rosendo.bayer7@yahoo.com"
        }
      },
      "ContextEntityBase": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "createdAt": {
            "type": "string"
          },
          "modifiedAt": {
            "type": [
              "string",
              "null"
            ]
          },
          "tenantId": {
            "type": "string"
          },
          "entityType": {
            "type": "string",
            "enum": [
              "organization"
            ]
          },
          "slug": {
            "type": "string"
          },
          "thumbnailUrl": {
            "type": [
              "string",
              "null"
            ]
          },
          "bannerUrl": {
            "type": [
              "string",
              "null"
            ]
          }
        },
        "required": [
          "id",
          "name",
          "createdAt",
          "modifiedAt",
          "tenantId",
          "entityType",
          "slug",
          "thumbnailUrl",
          "bannerUrl"
        ],
        "description": "Base schema for entities with memberships (e.g. organization).",
        "example": {
          "id": "bafp6iiu2dt74olfvl618xur",
          "createdAt": "2024-09-15T16:29:26.122Z",
          "modifiedAt": "2024-12-04T06:32:26.983Z",
          "tenantId": "d9wtu57tfwtfux7yivt59ywq",
          "name": "Nolan - Jacobson",
          "entityType": "organization",
          "slug": "nolan---jacobson",
          "thumbnailUrl": null,
          "bannerUrl": null
        }
      },
      "MembershipBase": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "maxLength": 50
          },
          "tenantId": {
            "type": "string",
            "maxLength": 24
          },
          "contextType": {
            "type": "string",
            "enum": [
              "organization"
            ]
          },
          "userId": {
            "type": "string",
            "maxLength": 50
          },
          "role": {
            "type": "string",
            "enum": [
              "admin",
              "member"
            ]
          },
          "archived": {
            "type": "boolean"
          },
          "muted": {
            "type": "boolean"
          },
          "displayOrder": {
            "type": "number",
            "minimum": -140737488355328,
            "maximum": 140737488355327
          },
          "organizationId": {
            "type": "string",
            "maxLength": 50
          }
        },
        "required": [
          "id",
          "tenantId",
          "contextType",
          "userId",
          "role",
          "archived",
          "muted",
          "displayOrder",
          "organizationId"
        ],
        "description": "Core membership fields shared across active and inactive memberships.",
        "example": {
          "id": "vn86f6g3ci8ybeh37sz3gscf",
          "tenantId": "gmpj3u",
          "contextType": "organization",
          "userId": "avw3f7pkm7vsxl2157n34cen",
          "organizationId": "80754cxm7om1aq3batq3hdpx",
          "role": "admin",
          "displayOrder": 32,
          "muted": false,
          "archived": false
        }
      },
      "StxBase": {
        "type": "object",
        "properties": {
          "mutationId": {
            "type": "string"
          },
          "sourceId": {
            "type": "string"
          },
          "version": {
            "type": "integer"
          },
          "fieldVersions": {
            "type": "object",
            "additionalProperties": {
              "type": "integer"
            }
          }
        },
        "required": [
          "mutationId",
          "sourceId",
          "version",
          "fieldVersions"
        ],
        "description": "Sync transaction metadata stored on entities for offline and realtime support.",
        "example": {
          "mutationId": "oucavr5r34v981pcrg8lwo1m",
          "sourceId": "wd4527bghf5s4igm3ddc22cy",
          "version": 2,
          "fieldVersions": {
            "name": 1
          }
        }
      },
      "StreamNotification": {
        "type": "object",
        "properties": {
          "action": {
            "type": "string",
            "enum": [
              "create",
              "update",
              "delete"
            ]
          },
          "entityType": {
            "type": [
              "string",
              "null"
            ],
            "enum": [
              "attachment",
              "page",
              null
            ]
          },
          "resourceType": {
            "type": [
              "string",
              "null"
            ],
            "enum": [
              "request",
              "membership",
              "inactive_membership",
              "tenant",
              null
            ]
          },
          "entityId": {
            "type": "string"
          },
          "organizationId": {
            "type": [
              "string",
              "null"
            ]
          },
          "contextType": {
            "type": [
              "string",
              "null"
            ],
            "enum": [
              "organization",
              null
            ]
          },
          "seq": {
            "type": [
              "integer",
              "null"
            ]
          },
          "stx": {
            "allOf": [
              {
                "$ref": "#/components/schemas/StxBase"
              },
              {
                "type": [
                  "object",
                  "null"
                ]
              }
            ]
          },
          "cacheToken": {
            "type": [
              "string",
              "null"
            ]
          }
        },
        "required": [
          "action",
          "entityType",
          "resourceType",
          "entityId",
          "organizationId",
          "contextType",
          "seq",
          "stx",
          "cacheToken"
        ],
        "description": "Realtime notification delivered via SSE for entity and membership changes.",
        "example": {
          "action": "update",
          "entityType": "attachment",
          "resourceType": null,
          "entityId": "gj2w2bwxrkgnv0oa592jxwar",
          "organizationId": "c2u05q7olzsfy1csy8m2q98f",
          "contextType": null,
          "seq": 550,
          "cacheToken": "UyMeEcuBnWoD28KSeQr21dJgZDmxiD2W",
          "stx": {
            "mutationId": "g5bhj6q04ey9pbycghixqzn7",
            "sourceId": "8ex8g1epv4xwf03jl4snuwh0",
            "version": 5,
            "fieldVersions": {
              "name": 1
            }
          }
        }
      },
      "ActivityError": {
        "type": "object",
        "properties": {
          "lsn": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "code": {
            "type": [
              "string",
              "null"
            ]
          },
          "retryCount": {
            "type": "number"
          },
          "resolved": {
            "type": "boolean"
          }
        },
        "required": [
          "lsn",
          "message",
          "retryCount"
        ],
        "description": "Error info for failed CDC activities (dead letters).",
        "example": {
          "lsn": "0/16B3A40",
          "message": "Connection timeout during processing",
          "code": null,
          "retryCount": 3,
          "resolved": false
        }
      },
      "BadRequestError": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ApiError"
          },
          {
            "type": "object",
            "properties": {
              "status": {
                "type": "number",
                "enum": [
                  400
                ]
              }
            }
          }
        ],
        "description": "Error returned when the request is malformed or contains invalid data.",
        "example": {
          "name": "BadRequestError",
          "message": "error:bad_request_action",
          "type": "validation_error",
          "status": 400,
          "severity": "warn",
          "timestamp": "2025-01-01T12:00:00.000Z"
        }
      },
      "ApiError": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "status": {
            "type": "integer",
            "minimum": 400,
            "maximum": 599
          },
          "severity": {
            "type": "string",
            "enum": [
              "fatal",
              "error",
              "warn",
              "info",
              "debug",
              "trace"
            ]
          },
          "entityType": {
            "type": "string",
            "enum": [
              "user",
              "organization",
              "attachment",
              "page"
            ]
          },
          "logId": {
            "type": "string"
          },
          "path": {
            "type": "string"
          },
          "method": {
            "type": "string"
          },
          "timestamp": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "organizationId": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "message",
          "type",
          "status",
          "severity"
        ],
        "description": "Standard error response returned by all API endpoints.",
        "example": {
          "name": "BadRequestError",
          "message": "error:bad_request_action",
          "type": "validation_error",
          "status": 400,
          "severity": "warn",
          "timestamp": "2025-01-01T12:00:00.000Z"
        }
      },
      "UnauthorizedError": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ApiError"
          },
          {
            "type": "object",
            "properties": {
              "status": {
                "type": "number",
                "enum": [
                  401
                ]
              }
            }
          }
        ],
        "description": "Error returned when authentication is missing or invalid.",
        "example": {
          "name": "BadRequestError",
          "message": "error:bad_request_action",
          "type": "validation_error",
          "status": 400,
          "severity": "warn",
          "timestamp": "2025-01-01T12:00:00.000Z"
        }
      },
      "ForbiddenError": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ApiError"
          },
          {
            "type": "object",
            "properties": {
              "status": {
                "type": "number",
                "enum": [
                  403
                ]
              }
            }
          }
        ],
        "description": "Error returned when the user lacks permission for the requested action.",
        "example": {
          "name": "BadRequestError",
          "message": "error:bad_request_action",
          "type": "validation_error",
          "status": 400,
          "severity": "warn",
          "timestamp": "2025-01-01T12:00:00.000Z"
        }
      },
      "NotFoundError": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ApiError"
          },
          {
            "type": "object",
            "properties": {
              "status": {
                "type": "number",
                "enum": [
                  404
                ]
              }
            }
          }
        ],
        "description": "Error returned when the requested resource cannot be found.",
        "example": {
          "name": "BadRequestError",
          "message": "error:bad_request_action",
          "type": "validation_error",
          "status": 400,
          "severity": "warn",
          "timestamp": "2025-01-01T12:00:00.000Z"
        }
      },
      "TooManyRequestsError": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ApiError"
          },
          {
            "type": "object",
            "properties": {
              "status": {
                "type": "number",
                "enum": [
                  429
                ]
              }
            }
          }
        ],
        "description": "Error returned when rate limits are exceeded.",
        "example": {
          "name": "BadRequestError",
          "message": "error:bad_request_action",
          "type": "validation_error",
          "status": 400,
          "severity": "warn",
          "timestamp": "2025-01-01T12:00:00.000Z"
        }
      },
      "Activity": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "maxLength": 50
          },
          "tenantId": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 24
          },
          "userId": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 50
          },
          "entityType": {
            "type": [
              "string",
              "null"
            ],
            "enum": [
              "user",
              "organization",
              "attachment",
              "page",
              null
            ]
          },
          "resourceType": {
            "type": [
              "string",
              "null"
            ],
            "enum": [
              "request",
              "membership",
              "inactive_membership",
              "tenant",
              null
            ]
          },
          "action": {
            "type": "string",
            "enum": [
              "create",
              "update",
              "delete"
            ]
          },
          "tableName": {
            "type": "string",
            "maxLength": 255
          },
          "type": {
            "type": "string",
            "maxLength": 255
          },
          "entityId": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 50
          },
          "organizationId": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 50
          },
          "createdAt": {
            "type": "string"
          },
          "changedKeys": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "stx": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StxBase"
              },
              {
                "type": "null"
              }
            ]
          },
          "seq": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": -2147483648,
            "maximum": 2147483647
          },
          "error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ActivityError"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "id",
          "tenantId",
          "userId",
          "entityType",
          "resourceType",
          "action",
          "tableName",
          "type",
          "entityId",
          "organizationId",
          "createdAt",
          "changedKeys",
          "stx",
          "seq",
          "error"
        ],
        "description": "An auditable event recording an entity change, used for sync and history.",
        "example": {
          "id": "s933zhzgm8axl572xlcja86p",
          "tenantId": "qc8osc",
          "userId": "lgd1300kpvq3dotk41121rs6",
          "entityType": "page",
          "resourceType": null,
          "action": "update",
          "tableName": "pages",
          "type": "page.updated",
          "entityId": "sa9stclacdgtonoqr1t2j8om",
          "createdAt": "2024-10-11T19:21:02.239Z",
          "changedKeys": [
            "description",
            "name",
            "email"
          ],
          "stx": null,
          "seq": 66,
          "error": null,
          "organizationId": "pg8iwtnhw3666j3aifuxshox"
        }
      },
      "Me": {
        "type": "object",
        "properties": {
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "isSystemAdmin": {
            "type": "boolean",
            "description": "Whether the current user has system admin privileges."
          }
        },
        "required": [
          "user",
          "isSystemAdmin"
        ],
        "description": "The currently authenticated user with their system admin status.",
        "example": {
          "user": {
            "id": "snou9b80h3jlnu1j458h6mvs",
            "entityType": "user",
            "name": "Douglas McClure",
            "firstName": "Douglas",
            "lastName": "McClure",
            "email": "douglas.mcclure57@yahoo.com",
            "slug": "douglasmcclure74",
            "description": null,
            "thumbnailUrl": null,
            "bannerUrl": null,
            "language": "en",
            "newsletter": false,
            "mfaRequired": false,
            "userFlags": {},
            "createdAt": "2024-07-14T22:49:14.651Z",
            "modifiedAt": "2024-07-14T22:49:14.651Z",
            "modifiedBy": null,
            "lastStartedAt": "2024-07-14T22:49:14.651Z",
            "lastSignInAt": "2024-07-14T22:49:14.651Z",
            "lastSeenAt": "2024-07-14T22:49:14.651Z"
          },
          "isSystemAdmin": false
        }
      },
      "User": {
        "type": "object",
        "properties": {
          "createdAt": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "maxLength": 50
          },
          "entityType": {
            "type": "string",
            "enum": [
              "user"
            ]
          },
          "name": {
            "type": "string",
            "maxLength": 255
          },
          "description": {
            "type": [
              "string",
              "null"
            ]
          },
          "slug": {
            "type": "string",
            "maxLength": 255
          },
          "thumbnailUrl": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 2048
          },
          "bannerUrl": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 2048
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "mfaRequired": {
            "type": "boolean"
          },
          "firstName": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 255
          },
          "lastName": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 255
          },
          "language": {
            "type": "string",
            "enum": [
              "en",
              "nl"
            ]
          },
          "newsletter": {
            "type": "boolean"
          },
          "userFlags": {
            "type": "object",
            "properties": {
              "finishedOnboarding": {
                "type": "boolean"
              }
            },
            "required": [
              "finishedOnboarding"
            ]
          },
          "modifiedAt": {
            "type": [
              "string",
              "null"
            ]
          },
          "modifiedBy": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 50
          },
          "lastSeenAt": {
            "type": [
              "string",
              "null"
            ]
          },
          "lastStartedAt": {
            "type": [
              "string",
              "null"
            ]
          },
          "lastSignInAt": {
            "type": [
              "string",
              "null"
            ]
          }
        },
        "required": [
          "createdAt",
          "id",
          "entityType",
          "name",
          "description",
          "slug",
          "thumbnailUrl",
          "bannerUrl",
          "email",
          "mfaRequired",
          "firstName",
          "lastName",
          "language",
          "newsletter",
          "userFlags",
          "modifiedAt",
          "modifiedBy",
          "lastSeenAt",
          "lastStartedAt",
          "lastSignInAt"
        ],
        "description": "A user with profile data and activity timestamps.",
        "example": {
          "id": "7sfzetbhjls7m9dg1xzavv78",
          "entityType": "user",
          "name": "Cecilia Hodkiewicz",
          "firstName": "Cecilia",
          "lastName": "Hodkiewicz",
          "email": "cecilia.hodkiewicz@hotmail.com",
          "slug": "ceciliahodkiewicz17",
          "description": null,
          "thumbnailUrl": null,
          "bannerUrl": null,
          "language": "en",
          "newsletter": false,
          "mfaRequired": false,
          "userFlags": {},
          "createdAt": "2024-12-13T11:17:23.643Z",
          "modifiedAt": "2024-12-13T11:17:23.643Z",
          "modifiedBy": null,
          "lastStartedAt": "2024-12-13T11:17:23.643Z",
          "lastSignInAt": "2024-12-13T11:17:23.643Z",
          "lastSeenAt": "2024-12-13T11:17:23.643Z"
        }
      },
      "MeAuthData": {
        "type": "object",
        "properties": {
          "enabledOAuth": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "github"
              ]
            }
          },
          "hasTotp": {
            "type": "boolean"
          },
          "hasPassword": {
            "type": "boolean"
          },
          "sessions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "maxLength": 50
                },
                "type": {
                  "type": "string",
                  "enum": [
                    "regular",
                    "impersonation",
                    "mfa"
                  ]
                },
                "userId": {
                  "type": "string",
                  "maxLength": 50
                },
                "deviceName": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "maxLength": 255
                },
                "deviceType": {
                  "type": "string",
                  "enum": [
                    "desktop",
                    "mobile"
                  ]
                },
                "deviceOs": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "maxLength": 255
                },
                "browser": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "maxLength": 255
                },
                "authStrategy": {
                  "type": "string",
                  "enum": [
                    "github",
                    "google",
                    "microsoft",
                    "password",
                    "passkey",
                    "totp",
                    "email"
                  ]
                },
                "createdAt": {
                  "type": "string"
                },
                "expiresAt": {
                  "type": "string"
                },
                "isCurrent": {
                  "type": "boolean"
                }
              },
              "required": [
                "id",
                "type",
                "userId",
                "deviceName",
                "deviceType",
                "deviceOs",
                "browser",
                "authStrategy",
                "createdAt",
                "expiresAt",
                "isCurrent"
              ]
            }
          },
          "passkeys": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "maxLength": 50
                },
                "userId": {
                  "type": "string",
                  "maxLength": 50
                },
                "deviceName": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "maxLength": 255
                },
                "deviceType": {
                  "type": "string",
                  "enum": [
                    "desktop",
                    "mobile"
                  ]
                },
                "deviceOs": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "maxLength": 255
                },
                "browser": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "maxLength": 255
                },
                "nameOnDevice": {
                  "type": "string",
                  "maxLength": 255
                },
                "createdAt": {
                  "type": "string"
                }
              },
              "required": [
                "id",
                "userId",
                "deviceName",
                "deviceType",
                "deviceOs",
                "browser",
                "nameOnDevice",
                "createdAt"
              ]
            }
          }
        },
        "required": [
          "enabledOAuth",
          "hasTotp",
          "hasPassword",
          "sessions",
          "passkeys"
        ],
        "description": "Authentication metadata for the current user session.",
        "example": {
          "enabledOAuth": [
            "github"
          ],
          "hasTotp": false,
          "hasPassword": true,
          "sessions": [
            {
              "id": "1yyluhj040oyd732g8rl7t64",
              "userId": "ccb8qru6yupvx5ntxp604xgo",
              "type": "regular",
              "createdAt": "2024-05-29T08:00:36.178Z",
              "expiresAt": "2024-06-28T08:00:36.178Z",
              "deviceName": "Safari on iPhone",
              "deviceType": "mobile",
              "deviceOs": "Windows",
              "browser": "Safari",
              "authStrategy": "password",
              "isCurrent": true
            }
          ],
          "passkeys": []
        }
      },
      "InactiveMembership": {
        "type": "object",
        "properties": {
          "createdAt": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "maxLength": 50
          },
          "tenantId": {
            "type": "string",
            "maxLength": 24
          },
          "contextType": {
            "type": "string",
            "enum": [
              "organization"
            ]
          },
          "email": {
            "type": "string",
            "maxLength": 255
          },
          "userId": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 50
          },
          "tokenId": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 50
          },
          "role": {
            "type": "string",
            "enum": [
              "admin",
              "member"
            ]
          },
          "rejectedAt": {
            "type": [
              "string",
              "null"
            ]
          },
          "createdBy": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UserMinimalBase"
              },
              {
                "type": [
                  "object",
                  "null"
                ]
              }
            ]
          },
          "organizationId": {
            "type": "string",
            "maxLength": 50
          }
        },
        "required": [
          "createdAt",
          "id",
          "tenantId",
          "contextType",
          "email",
          "userId",
          "tokenId",
          "role",
          "rejectedAt",
          "createdBy",
          "organizationId"
        ],
        "description": "A membership record for a user who has not yet accepted an invitation.",
        "example": {
          "id": "ukxfca4ddim4bvuklzn5bszg",
          "contextType": "organization",
          "email": "angel25@hotmail.com",
          "userId": "ne0c1n1xatbgsj5m94fa2zfj",
          "tokenId": "0w94eh4h0qgupj2wo2oz6c0e",
          "role": "admin",
          "rejectedAt": null,
          "createdAt": "2024-02-08T11:19:07.168Z",
          "createdBy": "n0dfrh6s450ooxn5tb992nwz",
          "organizationId": "9angnio9zojjlzk3croh621f",
          "tenantId": "test01"
        }
      },
      "UploadToken": {
        "type": "object",
        "properties": {
          "public": {
            "type": "boolean"
          },
          "sub": {
            "type": "string"
          },
          "s3": {
            "type": "boolean"
          },
          "signature": {
            "type": [
              "string",
              "null"
            ]
          },
          "params": {
            "anyOf": [
              {
                "type": "object",
                "properties": {
                  "auth": {
                    "type": "object",
                    "properties": {
                      "key": {
                        "type": "string"
                      },
                      "expires": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "key"
                    ]
                  }
                },
                "required": [
                  "auth"
                ],
                "additionalProperties": {}
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "public",
          "sub",
          "s3",
          "signature",
          "params"
        ],
        "description": "A signed token authorizing file uploads to the configured storage provider.",
        "example": {
          "public": false,
          "sub": "x1lsgegsw6imziogthaolhvy",
          "s3": true,
          "signature": "gVDbK1LX8P8h331cTbWcxbI0jNE5VeefPu4tppgCIGv475Bji47m4QdeTtGv8cYg",
          "params": {
            "auth": {
              "key": "uploads/kx5n7c1cush46z5cnizlmyd8",
              "expires": "2025-01-01T04:15:50.483Z"
            }
          }
        }
      },
      "Tenant": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "maxLength": 24,
            "description": "Lowercase alphanumeric tenant ID"
          },
          "name": {
            "type": "string",
            "description": "Tenant display name"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "suspended",
              "archived"
            ]
          },
          "restrictions": {
            "type": "object",
            "properties": {
              "quotas": {
                "type": "object",
                "additionalProperties": {
                  "type": "integer",
                  "minimum": 0
                },
                "description": "Entity quotas (0 = unlimited)"
              },
              "rateLimits": {
                "type": "object",
                "properties": {
                  "apiPointsPerHour": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "Max API points per hour per user within this tenant"
                  }
                },
                "required": [
                  "apiPointsPerHour"
                ]
              }
            },
            "required": [
              "quotas",
              "rateLimits"
            ]
          },
          "createdAt": {
            "type": "string"
          },
          "modifiedAt": {
            "type": [
              "string",
              "null"
            ]
          }
        },
        "required": [
          "id",
          "name",
          "status",
          "restrictions",
          "createdAt",
          "modifiedAt"
        ],
        "description": "A tenant representing an isolated data partition for multi-tenancy."
      },
      "Request": {
        "type": "object",
        "properties": {
          "createdAt": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "maxLength": 50
          },
          "message": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 255
          },
          "email": {
            "type": "string",
            "maxLength": 255
          },
          "type": {
            "type": "string",
            "enum": [
              "waitlist",
              "newsletter",
              "contact"
            ]
          },
          "wasInvited": {
            "type": "boolean"
          }
        },
        "required": [
          "createdAt",
          "id",
          "message",
          "email",
          "type",
          "wasInvited"
        ],
        "description": "A contact or waitlist submission from an unauthenticated user.",
        "example": {
          "id": "wejsiq864y0sbytrzsnlr9a0",
          "email": "marlin62@yahoo.com",
          "type": "contact",
          "message": "Terreo amiculum comitatus necessitatibus candidus cursim.",
          "createdAt": "2024-02-10T18:46:44.143Z",
          "wasInvited": true
        }
      },
      "Organization": {
        "type": "object",
        "properties": {
          "createdAt": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "maxLength": 50
          },
          "entityType": {
            "type": "string",
            "enum": [
              "organization"
            ]
          },
          "tenantId": {
            "type": "string",
            "maxLength": 24
          },
          "name": {
            "type": "string",
            "maxLength": 255
          },
          "modifiedAt": {
            "type": [
              "string",
              "null"
            ]
          },
          "slug": {
            "type": "string",
            "maxLength": 255
          },
          "thumbnailUrl": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 2048
          },
          "bannerUrl": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 2048
          },
          "createdBy": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UserMinimalBase"
              },
              {
                "type": [
                  "object",
                  "null"
                ]
              }
            ]
          },
          "modifiedBy": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UserMinimalBase"
              },
              {
                "type": [
                  "object",
                  "null"
                ]
              }
            ]
          },
          "shortName": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 255
          },
          "country": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 255
          },
          "timezone": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 255
          },
          "defaultLanguage": {
            "type": "string",
            "enum": [
              "en",
              "nl"
            ]
          },
          "languages": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "en",
                "nl"
              ]
            },
            "minItems": 1
          },
          "notificationEmail": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 255
          },
          "emailDomains": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "color": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 255
          },
          "logoUrl": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 2048
          },
          "websiteUrl": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 2048
          },
          "welcomeText": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 1000000
          },
          "authStrategies": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "github",
                "google",
                "microsoft",
                "password",
                "passkey",
                "totp",
                "email"
              ]
            }
          },
          "chatSupport": {
            "type": "boolean"
          },
          "included": {
            "type": "object",
            "properties": {
              "membership": {
                "$ref": "#/components/schemas/MembershipBase"
              },
              "counts": {
                "type": "object",
                "properties": {
                  "membership": {
                    "type": "object",
                    "properties": {
                      "admin": {
                        "type": "number"
                      },
                      "member": {
                        "type": "number"
                      },
                      "pending": {
                        "type": "number"
                      },
                      "total": {
                        "type": "number"
                      }
                    },
                    "required": [
                      "admin",
                      "member",
                      "pending",
                      "total"
                    ]
                  },
                  "entities": {
                    "type": "object",
                    "properties": {
                      "attachment": {
                        "type": "number"
                      },
                      "page": {
                        "type": "number"
                      }
                    },
                    "required": [
                      "attachment",
                      "page"
                    ]
                  }
                },
                "required": [
                  "membership",
                  "entities"
                ]
              }
            }
          }
        },
        "required": [
          "createdAt",
          "id",
          "entityType",
          "tenantId",
          "name",
          "modifiedAt",
          "slug",
          "thumbnailUrl",
          "bannerUrl",
          "createdBy",
          "modifiedBy",
          "shortName",
          "country",
          "timezone",
          "defaultLanguage",
          "languages",
          "notificationEmail",
          "emailDomains",
          "color",
          "logoUrl",
          "websiteUrl",
          "welcomeText",
          "authStrategies",
          "chatSupport",
          "included"
        ],
        "description": "An organization with membership context.",
        "example": {
          "id": "hmo9fwr239kqavr3yur671kl",
          "tenantId": "vk6xht",
          "entityType": "organization",
          "name": "Hills, Bauch and Monahan",
          "slug": "hills-bauch-and-monahan",
          "description": "Multi-tiered zero trust firmware",
          "shortName": "Hills,",
          "country": "Turks and Caicos Islands",
          "timezone": "America/Argentina/Buenos_Aires",
          "defaultLanguage": "en",
          "languages": [
            "en"
          ],
          "notificationEmail": "notifications@hills-bauch-and-monahan.example",
          "emailDomains": [],
          "color": "#ecfdfe",
          "thumbnailUrl": null,
          "logoUrl": null,
          "bannerUrl": null,
          "websiteUrl": "https://hills-bauch-and-monahan.example",
          "welcomeText": "Welcome to Hills, Bauch and Monahan!",
          "authStrategies": [
            "password"
          ],
          "chatSupport": true,
          "createdAt": "2024-12-25T15:29:47.111Z",
          "createdBy": null,
          "modifiedAt": "2024-12-25T15:29:47.111Z",
          "modifiedBy": null,
          "included": {
            "membership": {
              "id": "kaba9fpc90mgtzmtjipw2v8s",
              "tenantId": "w4hg40",
              "contextType": "organization",
              "userId": "36vxzq0rzt4pucvepsu63uw1",
              "organizationId": "hmo9fwr239kqavr3yur671kl",
              "role": "admin",
              "displayOrder": 69,
              "muted": false,
              "archived": false
            },
            "counts": {
              "membership": {
                "admin": 30,
                "member": 63,
                "pending": 13,
                "total": 93
              },
              "entities": {
                "attachment": 178,
                "page": 257
              }
            }
          }
        }
      },
      "Page": {
        "type": "object",
        "properties": {
          "createdAt": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "maxLength": 50
          },
          "entityType": {
            "type": "string",
            "enum": [
              "page"
            ]
          },
          "tenantId": {
            "type": "string",
            "maxLength": 24
          },
          "name": {
            "type": "string",
            "maxLength": 255
          },
          "modifiedAt": {
            "type": [
              "string",
              "null"
            ]
          },
          "stx": {
            "$ref": "#/components/schemas/StxBase"
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 1000000
          },
          "keywords": {
            "type": "string",
            "maxLength": 1000000
          },
          "createdBy": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UserMinimalBase"
              },
              {
                "type": [
                  "object",
                  "null"
                ]
              }
            ]
          },
          "modifiedBy": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UserMinimalBase"
              },
              {
                "type": [
                  "object",
                  "null"
                ]
              }
            ]
          },
          "status": {
            "type": "string",
            "enum": [
              "unpublished",
              "published",
              "archived"
            ]
          },
          "publicAccess": {
            "type": "boolean"
          },
          "parentId": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 50
          },
          "displayOrder": {
            "type": "number",
            "minimum": -140737488355328,
            "maximum": 140737488355327
          }
        },
        "required": [
          "createdAt",
          "id",
          "entityType",
          "tenantId",
          "name",
          "modifiedAt",
          "stx",
          "description",
          "keywords",
          "createdBy",
          "modifiedBy",
          "status",
          "publicAccess",
          "parentId",
          "displayOrder"
        ],
        "description": "A content page for documentation purposes.",
        "example": {
          "id": "co96vrmic3wbowmxzbqa1e9f",
          "tenantId": "ijllhz",
          "entityType": "page",
          "name": "Torrens adfectus.",
          "description": "[{\"id\":\"vpvlkq62hk9li94c1tr8utmz\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":2},\"content\":[{\"type\":\"text\",\"text\":\"Voluptates cornu tempus eaque universe.\",\"styles\":{}}],\"children\":[]},{\"id\":\"pi55bxuc2qwhtyluq154cx4j\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Cubo sponte utpote crux pecco. Cunctatio dolorum vallum ut adimpleo summa valde strenuus attonbitus eligendi. Vel cado vitae cibus dolores decet surgo. Accusamus praesentium cibus subito.\",\"styles\":{}}],\"children\":[]},{\"id\":\"h6l1vos3xc4hnlmx171qi6zl\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":3},\"content\":[{\"type\":\"text\",\"text\":\"User-friendly zero trust local area network\",\"styles\":{}}],\"children\":[]},{\"id\":\"i9o0udi9hbhpcrqmeqmjfilh\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Tremo molestias charisma clam ipsa suscipit solvo atrox tendo compello.\",\"styles\":{}}],\"children\":[]},{\"id\":\"21yj9m7s0rgq7uadt0ydiytq\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Tonsor ullus damnatio.\",\"styles\":{}}],\"children\":[]},{\"id\":\"ahco4j1hg33638w9fdgwg4kz\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Cupressus depono sto benigne delego decumbo adaugeo.\",\"styles\":{}}],\"children\":[]},{\"id\":\"opvi5nclsum589re1v2cf0wb\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Video aer addo crinis amissio alius allatus solium delectus tabesco. Inventore contra complectus summa umquam nobis dapifer supplanto odio. Atavus absorbeo suffoco cado deorsum amor.\",\"styles\":{}}],\"children\":[]},{\"id\":\"lpfyt1jrn8xcbpdpblsb0a32\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Nam certe vulgaris sumptus spiritus vae fugit creo.\",\"styles\":{}}],\"children\":[]},{\"id\":\"cjzo43xdm9gyny9uob9gf2n1\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Dolorem conduco causa.\",\"styles\":{}}],\"children\":[]},{\"id\":\"b7cu1dlgppkbzxpt1hpe10cv\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Caste pauper argumentum civitas.\",\"styles\":{}}],\"children\":[]},{\"id\":\"ckzwr5u035d68z9cu2shkv9l\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":false},\"content\":[{\"type\":\"text\",\"text\":\"Use the mobile HTTP port, then you can copy the primary hard drive!\",\"styles\":{}}],\"children\":[]},{\"id\":\"7vvwywvbvpfo7lkfzbmmga5c\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":false},\"content\":[{\"type\":\"text\",\"text\":\"Try to hack the SSD feed, maybe it will input the bluetooth panel!\",\"styles\":{}}],\"children\":[]},{\"id\":\"6uvd7v744ksfjze32jqlyoxo\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":false},\"content\":[{\"type\":\"text\",\"text\":\"Use the virtual SSL transmitter, then you can index the bluetooth capacitor!\",\"styles\":{}}],\"children\":[]},{\"id\":\"h8d8y1xrppft1fuoa3hfncxz\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Solium solvo degero ventus apto tempus aurum delectus facilis cura. Dolore animadverto maxime theatrum esse amo statua adfectus tremo contigo. Demens timidus calcar cohors appono aranea decet cultura substantia.\",\"styles\":{}}],\"children\":[]}]",
          "keywords": "tantillus debitis mollitia",
          "status": "unpublished",
          "publicAccess": true,
          "parentId": null,
          "displayOrder": 47.51,
          "createdAt": "2024-08-06T10:28:33.226Z",
          "createdBy": "0f0ak5vkrrl687pmkwpa1vju",
          "modifiedAt": "2024-08-06T10:28:33.226Z",
          "modifiedBy": "0f0ak5vkrrl687pmkwpa1vju",
          "stx": {
            "mutationId": "rd8bblxzxc0ypms2q9lzubyp",
            "sourceId": "src_ddo8vfjx4d5px26kw7k3q17d",
            "version": 1,
            "fieldVersions": {}
          }
        }
      },
      "StxRequestBase": {
        "type": "object",
        "properties": {
          "mutationId": {
            "type": "string",
            "maxLength": 32,
            "description": "Unique mutation ID (nanoid)"
          },
          "sourceId": {
            "type": "string",
            "maxLength": 64,
            "description": "Tab/instance identifier for echo prevention"
          },
          "lastReadVersion": {
            "type": "integer",
            "minimum": 0,
            "description": "Entity version when last read (for conflict detection)"
          }
        },
        "required": [
          "mutationId",
          "sourceId",
          "lastReadVersion"
        ],
        "description": "Sync transaction metadata sent with mutations for idempotency and conflict detection.",
        "example": {
          "mutationId": "efuoa1qdsm3eoz4p3a4an8mw",
          "sourceId": "mwbi2hv7uirbw4zg9xtdd05t",
          "lastReadVersion": 0
        }
      },
      "Attachment": {
        "type": "object",
        "properties": {
          "createdAt": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "maxLength": 50
          },
          "entityType": {
            "type": "string",
            "enum": [
              "attachment"
            ]
          },
          "tenantId": {
            "type": "string",
            "maxLength": 24
          },
          "name": {
            "type": "string",
            "maxLength": 255
          },
          "modifiedAt": {
            "type": [
              "string",
              "null"
            ]
          },
          "stx": {
            "$ref": "#/components/schemas/StxBase"
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 1000000
          },
          "keywords": {
            "type": "string",
            "maxLength": 1000000
          },
          "createdBy": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UserMinimalBase"
              },
              {
                "type": [
                  "object",
                  "null"
                ]
              }
            ]
          },
          "modifiedBy": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UserMinimalBase"
              },
              {
                "type": [
                  "object",
                  "null"
                ]
              }
            ]
          },
          "public": {
            "type": "boolean"
          },
          "publicAccess": {
            "type": "boolean"
          },
          "bucketName": {
            "type": "string",
            "maxLength": 255
          },
          "groupId": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 50
          },
          "filename": {
            "type": "string",
            "maxLength": 255
          },
          "contentType": {
            "type": "string",
            "maxLength": 255
          },
          "convertedContentType": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 255
          },
          "size": {
            "type": "string",
            "maxLength": 255
          },
          "originalKey": {
            "type": "string",
            "maxLength": 2048
          },
          "convertedKey": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 2048
          },
          "thumbnailKey": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 2048
          },
          "organizationId": {
            "type": "string",
            "maxLength": 50
          },
          "viewCount": {
            "type": "integer",
            "minimum": 0
          }
        },
        "required": [
          "createdAt",
          "id",
          "entityType",
          "tenantId",
          "name",
          "modifiedAt",
          "stx",
          "description",
          "keywords",
          "createdBy",
          "modifiedBy",
          "public",
          "publicAccess",
          "bucketName",
          "groupId",
          "filename",
          "contentType",
          "convertedContentType",
          "size",
          "originalKey",
          "convertedKey",
          "thumbnailKey",
          "organizationId"
        ],
        "description": "A file attachment belonging to an organization.",
        "example": {
          "id": "og9ynkm3vp2mdgi3oeicogxv",
          "tenantId": "lphxlo",
          "entityType": "attachment",
          "name": "yet_rightfully_lest.ogx",
          "description": null,
          "keywords": "damno tenax arx",
          "public": false,
          "publicAccess": false,
          "bucketName": "attachments",
          "groupId": null,
          "filename": "yet_rightfully_lest.ogx",
          "contentType": "application/vnd.ms-fontobject",
          "convertedContentType": null,
          "size": "2524242",
          "originalKey": "uploads/y6bqnt152wowxrfkyy8dwkbm/yet_rightfully_lest.ogx",
          "convertedKey": null,
          "thumbnailKey": null,
          "createdAt": "2024-10-12T17:43:05.360Z",
          "createdBy": "0uwim8y2tppz7th9tol75wjz",
          "modifiedAt": "2024-10-12T17:43:05.360Z",
          "modifiedBy": "0uwim8y2tppz7th9tol75wjz",
          "stx": {
            "mutationId": "pkeuemouu8t58r8fuj3tlenh",
            "sourceId": "src_qurk6hu54pnfytf99mpmuhw0",
            "version": 1,
            "fieldVersions": {}
          },
          "organizationId": "7eswx7d6csd6xo4nqwl7k09e"
        }
      },
      "Membership": {
        "type": "object",
        "properties": {
          "createdAt": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "maxLength": 50
          },
          "tenantId": {
            "type": "string",
            "maxLength": 24
          },
          "contextType": {
            "type": "string",
            "enum": [
              "organization"
            ]
          },
          "userId": {
            "type": "string",
            "maxLength": 50
          },
          "role": {
            "type": "string",
            "enum": [
              "admin",
              "member"
            ]
          },
          "createdBy": {
            "type": "string",
            "maxLength": 50
          },
          "modifiedAt": {
            "type": [
              "string",
              "null"
            ]
          },
          "modifiedBy": {
            "type": [
              "string",
              "null"
            ],
            "maxLength": 50
          },
          "archived": {
            "type": "boolean"
          },
          "muted": {
            "type": "boolean"
          },
          "displayOrder": {
            "type": "number",
            "minimum": -140737488355328,
            "maximum": 140737488355327
          },
          "organizationId": {
            "type": "string",
            "maxLength": 50
          }
        },
        "required": [
          "createdAt",
          "id",
          "tenantId",
          "contextType",
          "userId",
          "role",
          "createdBy",
          "modifiedAt",
          "modifiedBy",
          "archived",
          "muted",
          "displayOrder",
          "organizationId"
        ],
        "description": "A user's membership in a context entity, including role and activity data.",
        "example": {
          "id": "575b0vreys30k2k4z795uufw",
          "contextType": "organization",
          "userId": "xg7596t8jiy8d0v8irrljzhy",
          "organizationId": "7ul53b62aw5h7k6x44nbu2r5",
          "role": "admin",
          "displayOrder": 49,
          "muted": false,
          "archived": false,
          "createdAt": "2024-10-28T14:52:59.502Z",
          "createdBy": "xg7596t8jiy8d0v8irrljzhy",
          "modifiedAt": "2024-10-28T14:52:59.502Z",
          "modifiedBy": null,
          "tenantId": "test01"
        }
      }
    },
    "parameters": {}
  },
  "paths": {
    "/activities": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getActivities",
        "tags": [
          "activities"
        ],
        "summary": "Get list of activities",
        "description": "Returns a paginated list of *activities* (audit log entries). Activities track create, update, and delete operations across all resources.",
        "x-guard": [
          "authGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 255
            },
            "required": false,
            "name": "q",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "type",
                "tableName"
              ],
              "default": "createdAt"
            },
            "required": false,
            "name": "sort",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "asc"
            },
            "required": false,
            "name": "order",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "offset",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "limit",
            "in": "query"
          },
          {
            "schema": {
              "type": [
                "string",
                "null"
              ],
              "maxLength": 50
            },
            "required": false,
            "name": "userId",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "user",
                "organization",
                "attachment",
                "page"
              ]
            },
            "required": false,
            "name": "entityType",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "request",
                "membership",
                "inactive_membership",
                "tenant"
              ]
            },
            "required": false,
            "name": "resourceType",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "create",
                "update",
                "delete"
              ]
            },
            "required": false,
            "name": "action",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 255
            },
            "required": false,
            "name": "tableName",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 255
            },
            "required": false,
            "name": "type",
            "in": "query"
          },
          {
            "schema": {
              "type": [
                "string",
                "null"
              ],
              "maxLength": 50
            },
            "required": false,
            "name": "entityId",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Activities",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Activity"
                      }
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total"
                  ]
                },
                "example": {
                  "items": [
                    {
                      "id": "p8d07imsvjbtqtl3rtjgxd9x",
                      "tenantId": "n03u76",
                      "userId": "eo7z71y60a882cwpxtanaxns",
                      "entityType": "page",
                      "resourceType": null,
                      "action": "delete",
                      "tableName": "attachments",
                      "type": "attachment.deleted",
                      "entityId": "9nes1yx645yb0gleyvjbbm5p",
                      "createdAt": "2024-11-21T04:00:59.122Z",
                      "changedKeys": null,
                      "stx": null,
                      "seq": 511,
                      "error": null,
                      "organizationId": "weg2q4gqa3vx9cfyey6mqh9h"
                    },
                    {
                      "id": "5ogh3yr2b2dbwf7b9eckajcl",
                      "tenantId": "xs8vay",
                      "userId": "zrul7vmeyahbgyu01sr6utec",
                      "entityType": "page",
                      "resourceType": null,
                      "action": "update",
                      "tableName": "organizations",
                      "type": "organization.updated",
                      "entityId": "3o02wpa56tpd77kpi37syiav",
                      "createdAt": "2024-10-29T08:46:20.790Z",
                      "changedKeys": [
                        "slug",
                        "name",
                        "email"
                      ],
                      "stx": null,
                      "seq": 810,
                      "error": null,
                      "organizationId": "5nr6k4huj5qv4k6bwmvl0e44"
                    }
                  ],
                  "total": 2
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/health": {
      "get": {
        "security": [],
        "operationId": "getAuthHealth",
        "tags": [
          "auth"
        ],
        "summary": "Auth health check",
        "description": "Returns auth health status including whether the client IP is rate-limited for email enumeration protection.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "responses": {
          "200": {
            "description": "Auth health status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "restrictedMode": {
                      "type": "boolean"
                    },
                    "retryAfter": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "restrictedMode"
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/check-email": {
      "post": {
        "security": [],
        "operationId": "checkEmail",
        "tags": [
          "auth"
        ],
        "summary": "Check if email exists",
        "description": "Checks if a user with the specified email address exists in the system.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "emailEnumLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  }
                },
                "required": [
                  "email"
                ]
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Email exists"
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/invoke-token/{type}/{token}": {
      "get": {
        "security": [],
        "operationId": "invokeToken",
        "tags": [
          "auth"
        ],
        "summary": "Invoke token session",
        "description": "Validates and invokes a token (for password reset, email verification, invitations, mfa) and redirects user to backend with a one-purpose, single-use token session in a cookie.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "tokenLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "enum": [
                "email-verification",
                "oauth-verification",
                "password-reset",
                "invitation",
                "confirm-mfa"
              ]
            },
            "required": true,
            "name": "type",
            "in": "path"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": true,
            "name": "token",
            "in": "path"
          }
        ],
        "responses": {
          "302": {
            "description": "Redirect with token session",
            "headers": {
              "Location": {
                "schema": {
                  "type": "string"
                },
                "required": true
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/token/{type}/{id}": {
      "get": {
        "security": [],
        "operationId": "getTokenData",
        "tags": [
          "auth"
        ],
        "summary": "Get token data",
        "description": "Get basic token data from single-use token session, It returns basic data if the session is still valid.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "tokenLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "enum": [
                "email-verification",
                "oauth-verification",
                "password-reset",
                "invitation",
                "confirm-mfa"
              ]
            },
            "required": true,
            "name": "type",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Token is valid",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "email": {
                      "type": "string",
                      "format": "email"
                    },
                    "userId": {
                      "type": "string"
                    },
                    "inactiveMembershipId": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "email"
                  ]
                },
                "example": {
                  "email": "ona.becker-hickle@demo.local",
                  "userId": "ifqwn7yznn0t633emq5sbn33"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/impersonation/start": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "startImpersonation",
        "tags": [
          "auth"
        ],
        "summary": "Start impersonating",
        "description": "Allows a system admin to impersonate a specific user by ID, returning a temporary impersonation session.",
        "x-guard": [
          "authGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "required": true,
            "name": "targetUserId",
            "in": "query"
          }
        ],
        "responses": {
          "204": {
            "description": "Impersonating",
            "headers": {
              "Set-Cookie": {
                "schema": {
                  "type": "string",
                  "maxLength": 255
                },
                "required": true
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/impersonation/stop": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "stopImpersonation",
        "tags": [
          "auth"
        ],
        "summary": "Stop impersonating",
        "description": "Ends impersonation by clearing the current impersonation session and restoring the admin context.",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "responses": {
          "204": {
            "description": "Stopped impersonating"
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/resend-invitation": {
      "post": {
        "security": [],
        "operationId": "resendInvitationWithToken",
        "tags": [
          "auth"
        ],
        "summary": "Resend invitation",
        "description": "Resends an invitation email with token to a new user using the provided email address and token ID.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "spamLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "email": {
                        "type": "string",
                        "format": "email"
                      },
                      "tokenId": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "email"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "email": {
                        "type": "string",
                        "format": "email"
                      },
                      "tokenId": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "tokenId"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Invitation email sent"
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/sign-out": {
      "post": {
        "security": [],
        "operationId": "signOut",
        "tags": [
          "auth"
        ],
        "summary": "Sign out",
        "description": "Signs out the *current user* and clears the active session.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "responses": {
          "204": {
            "description": "User signed out"
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/totp/generate-key": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "generateTotpKey",
        "tags": [
          "auth"
        ],
        "summary": "Generate TOTP key",
        "description": "Generates a new TOTP key for current user and returns a provisioning URI and Base32 manual key.",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "responses": {
          "200": {
            "description": "Challenge created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "totpUri": {
                      "type": "string"
                    },
                    "manualKey": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "totpUri",
                    "manualKey"
                  ]
                },
                "example": {
                  "totpUri": "otpauth://totp/Cella:user@example.com?secret=MGNEKSGGQO2Q7CMRC525Z7X2IGCP19Z3&issuer=Cella",
                  "manualKey": "ZEEY2N36QIFGDJ3KZL2U0JTJY5GGUNL8"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/totp": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "createTotp",
        "tags": [
          "auth"
        ],
        "summary": "Set TOTP",
        "description": "Confirms TOTP setup by verifying a code from the authenticator app for the first time. On success, TOTP is registered for current user.",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string",
                    "pattern": "^\\d{6}$"
                  }
                },
                "required": [
                  "code"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "TOTP created"
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      },
      "delete": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "deleteTotp",
        "tags": [
          "auth"
        ],
        "summary": "Delete TOTP",
        "description": "Delete TOTP credential for current user.",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "responses": {
          "204": {
            "description": "TOTP deleted"
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/totp-verification": {
      "post": {
        "security": [],
        "operationId": "signInWithTotp",
        "tags": [
          "auth"
        ],
        "summary": "Verify TOTP",
        "description": "Validates the TOTP code and completes TOTP based authentication.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "totpVerificationLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string",
                    "pattern": "^\\d{6}$"
                  }
                },
                "required": [
                  "code"
                ]
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "TOTP verified",
            "headers": {
              "Set-Cookie": {
                "schema": {
                  "type": "string",
                  "maxLength": 255
                },
                "required": true
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/sign-up": {
      "post": {
        "security": [],
        "operationId": "signUp",
        "tags": [
          "auth"
        ],
        "summary": "Sign up with password",
        "description": "Registers a new user using an email and password. Sends a verification email upon successful sign up.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "spamLimiter",
          "emailEnumLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 8,
                    "maxLength": 100
                  }
                },
                "required": [
                  "email",
                  "password"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User signed up",
            "headers": {
              "Set-Cookie": {
                "schema": {
                  "type": "string",
                  "maxLength": 255
                },
                "required": true
              }
            }
          },
          "302": {
            "description": "Redirect to frontend",
            "headers": {
              "Location": {
                "schema": {
                  "type": "string"
                },
                "required": true
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/sign-up/{tokenId}": {
      "post": {
        "security": [],
        "operationId": "signUpWithToken",
        "tags": [
          "auth"
        ],
        "summary": "Sign up to accept invite",
        "description": "Registers a user using an email and password in response to a system or organization invitation.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "tokenLimiter",
          "emailEnumLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "required": true,
            "name": "tokenId",
            "in": "path"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 8,
                    "maxLength": 100
                  }
                },
                "required": [
                  "email",
                  "password"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User signed up",
            "headers": {
              "Set-Cookie": {
                "schema": {
                  "type": "string",
                  "maxLength": 255
                },
                "required": true
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "membershipInvite": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "membershipInvite"
                  ]
                },
                "example": {
                  "membershipInvite": true
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/request-password": {
      "post": {
        "security": [],
        "operationId": "requestPassword",
        "tags": [
          "auth"
        ],
        "summary": "Request new password",
        "description": "Sends an email with a link to reset the user's password.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "spamLimiter",
          "emailEnumLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  }
                },
                "required": [
                  "email"
                ]
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Password reset email sent"
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/create-password/{tokenId}": {
      "post": {
        "security": [],
        "operationId": "createPassword",
        "tags": [
          "auth"
        ],
        "summary": "Create password",
        "description": "Sets a new password using a single-use session token in cookie and grants a session immediately upon success.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "tokenLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "required": true,
            "name": "tokenId",
            "in": "path"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "password": {
                    "type": "string",
                    "minLength": 8,
                    "maxLength": 100
                  }
                },
                "required": [
                  "password"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Password created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mfa": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "mfa"
                  ]
                },
                "example": {
                  "mfa": false
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/sign-in": {
      "post": {
        "security": [],
        "operationId": "signIn",
        "tags": [
          "auth"
        ],
        "summary": "Sign in with password",
        "description": "Authenticates an existing user using their email and password.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "passwordLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 8,
                    "maxLength": 100
                  }
                },
                "required": [
                  "email",
                  "password"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User signed in",
            "headers": {
              "Set-Cookie": {
                "schema": {
                  "type": "string",
                  "maxLength": 255
                },
                "required": false
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "emailVerified": {
                      "type": "boolean"
                    },
                    "mfa": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "emailVerified"
                  ]
                },
                "example": {
                  "emailVerified": true,
                  "mfa": false
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/passkey": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "createPasskey",
        "tags": [
          "auth"
        ],
        "summary": "Create passkey",
        "description": "Register a passkey for passwordless authentication by verifying a signed challenge and linking it to the *current user*. Multiple passkeys can be created for different devices/browsers.",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "attestationObject": {
                    "type": "string"
                  },
                  "clientDataJSON": {
                    "type": "string"
                  },
                  "nameOnDevice": {
                    "type": "string",
                    "maxLength": 255
                  }
                },
                "required": [
                  "attestationObject",
                  "clientDataJSON",
                  "nameOnDevice"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Passkey created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "maxLength": 50
                    },
                    "userId": {
                      "type": "string",
                      "maxLength": 50
                    },
                    "deviceName": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "maxLength": 255
                    },
                    "deviceType": {
                      "type": "string",
                      "enum": [
                        "desktop",
                        "mobile"
                      ]
                    },
                    "deviceOs": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "maxLength": 255
                    },
                    "browser": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "maxLength": 255
                    },
                    "nameOnDevice": {
                      "type": "string",
                      "maxLength": 255
                    },
                    "createdAt": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id",
                    "userId",
                    "deviceName",
                    "deviceType",
                    "deviceOs",
                    "browser",
                    "nameOnDevice",
                    "createdAt"
                  ]
                },
                "example": {
                  "id": "wi1u74x2b4g096dtzu91o9w8",
                  "userId": "zslal6vzkcqd10drzf37piml",
                  "nameOnDevice": "Chrome on Mac",
                  "userAgent": "FakerBot/2.17.17",
                  "createdAt": "2024-08-15T16:12:55.564Z"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/passkey/{id}": {
      "delete": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "deletePasskey",
        "tags": [
          "auth"
        ],
        "summary": "Delete passkey",
        "description": "Delete a passkey by id from the *current user*.",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "204": {
            "description": "Passkey deleted"
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/passkey/generate-challenge": {
      "post": {
        "security": [],
        "operationId": "generatePasskeyChallenge",
        "tags": [
          "auth"
        ],
        "summary": "Generate passkey challenge",
        "description": "Initiates the passkey registration or authentication flow by generating a device bound challenge.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "passkeyChallengeLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "authentication",
                      "mfa",
                      "registration"
                    ]
                  },
                  "email": {
                    "type": "string",
                    "maxLength": 255
                  }
                },
                "required": [
                  "type"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Challenge generated",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "challengeBase64": {
                      "type": "string"
                    },
                    "credentialIds": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  },
                  "required": [
                    "challengeBase64",
                    "credentialIds"
                  ]
                },
                "example": {
                  "challengeBase64": "c5SiUKPbCCFqoXyIZHNC3ufdzv1sE6cuymwA9IMSiP6",
                  "credentialIds": [
                    "3EQAejE9eLT26kT6iIsM52HWd5x3aKpV"
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/passkey-verification": {
      "post": {
        "security": [],
        "operationId": "signInWithPasskey",
        "tags": [
          "auth"
        ],
        "summary": "Verify passkey",
        "description": "Validates the signed challenge and completes passkey based authentication.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "tokenLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "credentialId": {
                    "type": "string"
                  },
                  "clientDataJSON": {
                    "type": "string"
                  },
                  "authenticatorObject": {
                    "type": "string"
                  },
                  "signature": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "authentication",
                      "mfa"
                    ]
                  },
                  "email": {
                    "type": "string",
                    "maxLength": 255
                  }
                },
                "required": [
                  "credentialId",
                  "clientDataJSON",
                  "authenticatorObject",
                  "signature",
                  "type"
                ]
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Passkey verified",
            "headers": {
              "Set-Cookie": {
                "schema": {
                  "type": "string",
                  "maxLength": 255
                },
                "required": true
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/github": {
      "get": {
        "security": [],
        "operationId": "github",
        "tags": [
          "auth"
        ],
        "summary": "Authenticate with GitHub",
        "description": "Starts OAuth authentication with GitHub. Can be used for account connection, email verification, invitation process, defaults to authentication.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "enum": [
                "auth",
                "connect",
                "invite",
                "verify"
              ],
              "default": "auth"
            },
            "required": false,
            "name": "type",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "redirectAfter",
            "in": "query"
          }
        ],
        "responses": {
          "302": {
            "description": "Redirect to GitHub",
            "headers": {
              "Location": {
                "schema": {
                  "type": "string"
                },
                "required": true
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/google": {
      "get": {
        "security": [],
        "operationId": "google",
        "tags": [
          "auth"
        ],
        "summary": "Authenticate with Google",
        "description": "Starts OAuth authentication with Google. Can be used for account connection, email verification, invitation process, defaults to authentication.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "enum": [
                "auth",
                "connect",
                "invite",
                "verify"
              ],
              "default": "auth"
            },
            "required": false,
            "name": "type",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "redirectAfter",
            "in": "query"
          }
        ],
        "responses": {
          "302": {
            "description": "Redirect to Google",
            "headers": {
              "Location": {
                "schema": {
                  "type": "string"
                },
                "required": true
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/microsoft": {
      "get": {
        "security": [],
        "operationId": "microsoft",
        "tags": [
          "auth"
        ],
        "summary": "Authenticate with Microsoft",
        "description": "Starts OAuth authentication with Microsoft. Can be used for account connection, email verification, invitation process, defaults to authentication.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "enum": [
                "auth",
                "connect",
                "invite",
                "verify"
              ],
              "default": "auth"
            },
            "required": false,
            "name": "type",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "redirectAfter",
            "in": "query"
          }
        ],
        "responses": {
          "302": {
            "description": "Redirect to Microsoft",
            "headers": {
              "Location": {
                "schema": {
                  "type": "string"
                },
                "required": true
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/github/callback": {
      "get": {
        "security": [],
        "operationId": "githubCallback",
        "tags": [
          "auth"
        ],
        "summary": "Callback for GitHub",
        "description": "Handles GitHub OAuth callback, retrieves user identity, and establishes a session or links account.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "tokenLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "required": true,
            "name": "code",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": true,
            "name": "state",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "error",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "error_description",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "error_uri",
            "in": "query"
          }
        ],
        "responses": {
          "302": {
            "description": "Redirect to frontend",
            "headers": {
              "Location": {
                "schema": {
                  "type": "string"
                },
                "required": true
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/google/callback": {
      "get": {
        "security": [],
        "operationId": "googleCallback",
        "tags": [
          "auth"
        ],
        "summary": "Callback for Google",
        "description": "Handles Google OAuth callback, retrieves user identity, and establishes a session or links account.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "tokenLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "required": true,
            "name": "code",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": true,
            "name": "state",
            "in": "query"
          }
        ],
        "responses": {
          "302": {
            "description": "Redirect to frontend",
            "headers": {
              "Location": {
                "schema": {
                  "type": "string"
                },
                "required": true
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/auth/microsoft/callback": {
      "get": {
        "security": [],
        "operationId": "microsoftCallback",
        "tags": [
          "auth"
        ],
        "summary": "Callback for Microsoft",
        "description": "Handles Microsoft OAuth callback, retrieves user identity, and establishes a session or links account.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "tokenLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "required": true,
            "name": "code",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": true,
            "name": "state",
            "in": "query"
          }
        ],
        "responses": {
          "302": {
            "description": "Redirect to frontend",
            "headers": {
              "Location": {
                "schema": {
                  "type": "string"
                },
                "required": true
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/me": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getMe",
        "tags": [
          "me"
        ],
        "summary": "Get self",
        "description": "Returns the *current user*.",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "responses": {
          "200": {
            "description": "User",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Me"
                },
                "example": {
                  "user": {
                    "id": "snou9b80h3jlnu1j458h6mvs",
                    "entityType": "user",
                    "name": "Douglas McClure",
                    "firstName": "Douglas",
                    "lastName": "McClure",
                    "email": "douglas.mcclure57@yahoo.com",
                    "slug": "douglasmcclure74",
                    "description": null,
                    "thumbnailUrl": null,
                    "bannerUrl": null,
                    "language": "en",
                    "newsletter": false,
                    "mfaRequired": false,
                    "userFlags": {},
                    "createdAt": "2024-07-14T22:49:14.651Z",
                    "modifiedAt": "2024-07-14T22:49:14.651Z",
                    "modifiedBy": null,
                    "lastStartedAt": "2024-07-14T22:49:14.651Z",
                    "lastSignInAt": "2024-07-14T22:49:14.651Z",
                    "lastSeenAt": "2024-07-14T22:49:14.651Z"
                  },
                  "isSystemAdmin": false
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      },
      "put": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "updateMe",
        "tags": [
          "me"
        ],
        "summary": "Update self",
        "description": "Updates the *current user*.",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bannerUrl": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "maxLength": 2048
                  },
                  "firstName": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "minLength": 2,
                    "maxLength": 255
                  },
                  "lastName": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "minLength": 2,
                    "maxLength": 255
                  },
                  "language": {
                    "type": "string",
                    "enum": [
                      "en",
                      "nl"
                    ]
                  },
                  "newsletter": {
                    "type": "boolean"
                  },
                  "thumbnailUrl": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "maxLength": 2048
                  },
                  "slug": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 255
                  },
                  "userFlags": {
                    "type": "object",
                    "properties": {
                      "finishedOnboarding": {
                        "type": "boolean"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                },
                "example": {
                  "id": "7sfzetbhjls7m9dg1xzavv78",
                  "entityType": "user",
                  "name": "Cecilia Hodkiewicz",
                  "firstName": "Cecilia",
                  "lastName": "Hodkiewicz",
                  "email": "cecilia.hodkiewicz@hotmail.com",
                  "slug": "ceciliahodkiewicz17",
                  "description": null,
                  "thumbnailUrl": null,
                  "bannerUrl": null,
                  "language": "en",
                  "newsletter": false,
                  "mfaRequired": false,
                  "userFlags": {},
                  "createdAt": "2024-12-13T11:17:23.643Z",
                  "modifiedAt": "2024-12-13T11:17:23.643Z",
                  "modifiedBy": null,
                  "lastStartedAt": "2024-12-13T11:17:23.643Z",
                  "lastSignInAt": "2024-12-13T11:17:23.643Z",
                  "lastSeenAt": "2024-12-13T11:17:23.643Z"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      },
      "delete": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "deleteMe",
        "tags": [
          "me"
        ],
        "summary": "Delete self",
        "description": "Deletes the *current user*. This also removes the user's memberships (cascade) and sets references to the user to `null` where applicable.",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "responses": {
          "204": {
            "description": "User deleted"
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/me/mfa": {
      "put": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "toggleMfa",
        "tags": [
          "me"
        ],
        "summary": "Toggle MFA",
        "description": "Enable or disable multifactor authentication for the *current user*. Always requires passkey or TOTP reauthentication.",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "passkeyData": {
                    "type": "object",
                    "properties": {
                      "credentialId": {
                        "type": "string"
                      },
                      "clientDataJSON": {
                        "type": "string"
                      },
                      "authenticatorObject": {
                        "type": "string"
                      },
                      "signature": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "credentialId",
                      "clientDataJSON",
                      "authenticatorObject",
                      "signature"
                    ]
                  },
                  "totpCode": {
                    "type": "string",
                    "pattern": "^\\d{6}$"
                  },
                  "mfaRequired": {
                    "type": "boolean"
                  }
                },
                "required": [
                  "mfaRequired"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                },
                "example": {
                  "id": "7sfzetbhjls7m9dg1xzavv78",
                  "entityType": "user",
                  "name": "Cecilia Hodkiewicz",
                  "firstName": "Cecilia",
                  "lastName": "Hodkiewicz",
                  "email": "cecilia.hodkiewicz@hotmail.com",
                  "slug": "ceciliahodkiewicz17",
                  "description": null,
                  "thumbnailUrl": null,
                  "bannerUrl": null,
                  "language": "en",
                  "newsletter": false,
                  "mfaRequired": false,
                  "userFlags": {},
                  "createdAt": "2024-12-13T11:17:23.643Z",
                  "modifiedAt": "2024-12-13T11:17:23.643Z",
                  "modifiedBy": null,
                  "lastStartedAt": "2024-12-13T11:17:23.643Z",
                  "lastSignInAt": "2024-12-13T11:17:23.643Z",
                  "lastSeenAt": "2024-12-13T11:17:23.643Z"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/me/auth": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getMyAuth",
        "tags": [
          "me"
        ],
        "summary": "Get auth data",
        "description": "Returns authentication related data of *current user*, including sessions, OAuth accounts, and sign in options.",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "responses": {
          "200": {
            "description": "User sign-up info",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MeAuthData"
                },
                "example": {
                  "enabledOAuth": [
                    "github"
                  ],
                  "hasTotp": false,
                  "hasPassword": true,
                  "sessions": [
                    {
                      "id": "1yyluhj040oyd732g8rl7t64",
                      "userId": "ccb8qru6yupvx5ntxp604xgo",
                      "type": "regular",
                      "createdAt": "2024-05-29T08:00:36.178Z",
                      "expiresAt": "2024-06-28T08:00:36.178Z",
                      "deviceName": "Safari on iPhone",
                      "deviceType": "mobile",
                      "deviceOs": "Windows",
                      "browser": "Safari",
                      "authStrategy": "password",
                      "isCurrent": true
                    }
                  ],
                  "passkeys": []
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/me/invitations": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getMyInvitations",
        "tags": [
          "me"
        ],
        "summary": "Get list of invitations",
        "description": "Returns a list of pending memberships with entity data.",
        "x-guard": [
          "authGuard",
          "crossTenantGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "responses": {
          "200": {
            "description": "Invitations pending",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "entity": {
                            "$ref": "#/components/schemas/ContextEntityBase"
                          },
                          "inactiveMembership": {
                            "$ref": "#/components/schemas/InactiveMembership"
                          }
                        },
                        "required": [
                          "entity",
                          "inactiveMembership"
                        ]
                      }
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total"
                  ]
                },
                "example": {
                  "items": [
                    {
                      "entity": {
                        "id": "kk63h1dxe8cgq643ccglytgb",
                        "createdAt": "2024-12-25T19:05:51.784Z",
                        "modifiedAt": "2024-12-27T22:12:06.410Z",
                        "tenantId": "kv08ddk8lkbjmurn9341gpf1",
                        "name": "Effertz Group",
                        "entityType": "organization",
                        "slug": "effertz-group",
                        "thumbnailUrl": null,
                        "bannerUrl": null
                      },
                      "inactiveMembership": {
                        "id": "6gr354pie22th7dif16z86xc",
                        "contextType": "organization",
                        "email": "russ.herzog17@yahoo.com",
                        "userId": "ezumc4icc5vmduw22tjoaw74",
                        "tokenId": "3zfj14fctcamlgi5coyrzuov",
                        "role": "admin",
                        "rejectedAt": null,
                        "createdAt": "2024-11-13T18:39:21.444Z",
                        "createdBy": "5w1ul2bx3ld4na8k0ts708fo",
                        "organizationId": "ft7nt6w77qphfz9detwtt178",
                        "tenantId": "test01"
                      }
                    },
                    {
                      "entity": {
                        "id": "ip52vb8otvpz1qn2gfy3zjnp",
                        "createdAt": "2024-03-25T23:28:46.492Z",
                        "modifiedAt": "2024-06-03T13:50:52.760Z",
                        "tenantId": "od7xdlm77e2i9qj90kx71lz5",
                        "name": "Hansen - Reynolds",
                        "entityType": "organization",
                        "slug": "hansen---reynolds",
                        "thumbnailUrl": null,
                        "bannerUrl": null
                      },
                      "inactiveMembership": {
                        "id": "3gqwjug71n1cwllydl9l6917",
                        "contextType": "organization",
                        "email": "bethany.osinski75@gmail.com",
                        "userId": "gbc099sv1n33rsaavdzvrv0a",
                        "tokenId": "rzesl0rhhdendngwylqyrn1s",
                        "role": "admin",
                        "rejectedAt": null,
                        "createdAt": "2024-04-12T10:35:38.557Z",
                        "createdBy": "gtt9htxwawq5tdvqh553onul",
                        "organizationId": "okmsol2r5n4cy72j57t1tgy0",
                        "tenantId": "test01"
                      }
                    }
                  ],
                  "total": 2
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/me/sessions": {
      "delete": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "deleteMySessions",
        "tags": [
          "me"
        ],
        "summary": "Terminate sessions",
        "description": "Ends one or more sessions for the *current user* based on provided session IDs.",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "ids": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minItems": 1,
                    "maxItems": 50
                  }
                },
                "required": [
                  "ids"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "prefixItems": []
                    },
                    "rejectedItemIds": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Identifiers of items that could not be processed"
                    },
                    "rejectionReasons": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "description": "Map of reason code to rejected item IDs"
                    }
                  },
                  "required": [
                    "data",
                    "rejectedItemIds"
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/me/leave": {
      "delete": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "deleteMyMembership",
        "tags": [
          "me"
        ],
        "summary": "Leave entity",
        "description": "Removes the *current user* from an entity they are a member of.",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "entityId",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "organization"
              ]
            },
            "required": true,
            "name": "entityType",
            "in": "query"
          }
        ],
        "responses": {
          "204": {
            "description": "Membership removed"
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/me/upload-token": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getUploadToken",
        "tags": [
          "me"
        ],
        "summary": "Get upload token",
        "description": "Generates and returns an upload token for uploading files or images to a private S3 bucket, scoped to the *current user* and organization",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "boolean"
                }
              ],
              "default": "false"
            },
            "required": false,
            "name": "public",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "organizationId",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "avatar",
                "cover",
                "attachment"
              ]
            },
            "required": true,
            "name": "templateId",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Upload token with a scope for a user or organization",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadToken"
                },
                "example": {
                  "public": false,
                  "sub": "x1lsgegsw6imziogthaolhvy",
                  "s3": true,
                  "signature": "gVDbK1LX8P8h331cTbWcxbI0jNE5VeefPu4tppgCIGv475Bji47m4QdeTtGv8cYg",
                  "params": {
                    "auth": {
                      "key": "uploads/kx5n7c1cush46z5cnizlmyd8",
                      "expires": "2025-01-01T04:15:50.483Z"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/me/unsubscribe": {
      "get": {
        "security": [],
        "operationId": "unsubscribeMe",
        "tags": [
          "me"
        ],
        "summary": "Unsubscribe",
        "description": "Unsubscribes the user from email notifications using a personal unsubscribe token. No authentication is required, as the token implicitly identifies the *current user*.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "tokenLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "required": true,
            "name": "token",
            "in": "query"
          }
        ],
        "responses": {
          "302": {
            "description": "Redirect to FE",
            "headers": {
              "Location": {
                "schema": {
                  "type": "string"
                },
                "required": true
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/me/memberships": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getMyMemberships",
        "tags": [
          "me"
        ],
        "summary": "Get my memberships",
        "description": "Returns all memberships for the *current user* across all context entities.",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "responses": {
          "200": {
            "description": "User memberships",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/MembershipBase"
                      }
                    }
                  },
                  "required": [
                    "items"
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/unseen/counts": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getUnseenCounts",
        "tags": [
          "seen"
        ],
        "summary": "Get unseen counts",
        "description": "Returns the number of unseen product entities per parent context entity (e.g., project) and entity type for the *current user*. Computed as total (from context_counters) minus seen (from seen_by).",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "responses": {
          "200": {
            "description": "Unseen counts per parent context entity per entity type",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "integer",
                      "minimum": 0
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/entities/check-slug": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "checkSlug",
        "tags": [
          "entities"
        ],
        "summary": "Check slug availability",
        "description": "Checks whether a given slug is available across all entity types (e.g. *organizations*, *users*).\n      Primarily used to prevent slug collisions before creating or updating an entity.",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "slug": {
                    "type": "string"
                  },
                  "entityType": {
                    "type": "string",
                    "enum": [
                      "user",
                      "organization"
                    ]
                  }
                },
                "required": [
                  "slug",
                  "entityType"
                ]
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Slug is available"
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/entities/public/stream": {
      "get": {
        "security": [],
        "operationId": "getPublicStream",
        "tags": [
          "entities"
        ],
        "summary": "Public entity SSE stream",
        "description": "SSE stream for real-time public entity changes. No authentication required.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "responses": {
          "200": {
            "description": "SSE stream started",
            "content": {
              "text/event-stream": {
                "schema": {}
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      },
      "post": {
        "security": [],
        "operationId": "postPublicCatchup",
        "tags": [
          "entities"
        ],
        "summary": "Public entity catchup",
        "description": "Fetch missed public entity changes since last sync. Send cursor and per-scope seqs in the body.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cursor": {
                    "type": "string",
                    "description": "Last activity cursor received by the client. Omit on first sync.",
                    "example": "0-54F6250"
                  },
                  "seqs": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "integer"
                    },
                    "description": "Client-side sequence numbers per scope: { \"orgId\": 42, \"orgId:m\": 5 }",
                    "example": {
                      "abc123": 10,
                      "abc123:m": 3
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Catchup summary",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "changes": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "object",
                        "properties": {
                          "seq": {
                            "type": "integer"
                          },
                          "deletedIds": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "mSeq": {
                            "type": "integer"
                          }
                        },
                        "required": [
                          "seq",
                          "deletedIds"
                        ]
                      },
                      "description": "Per-entityType change summary: { [entityType]: { seq, deletedIds } }"
                    },
                    "cursor": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "description": "Last activity ID (use as offset for next request)"
                    }
                  },
                  "required": [
                    "changes",
                    "cursor"
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/entities/app/stream": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getAppStream",
        "tags": [
          "entities"
        ],
        "summary": "App event SSE stream",
        "description": "SSE stream for membership and entity notifications affecting the current user. Sends lightweight notifications.",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "responses": {
          "200": {
            "description": "SSE stream started",
            "content": {
              "text/event-stream": {
                "schema": {}
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      },
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "postAppCatchup",
        "tags": [
          "entities"
        ],
        "summary": "App event catchup",
        "description": "Fetch missed entity and membership changes since last sync. Send cursor and per-scope seqs in the body.",
        "x-guard": [
          "authGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cursor": {
                    "type": "string",
                    "description": "Last activity cursor received by the client. Omit on first sync.",
                    "example": "0-54F6250"
                  },
                  "seqs": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "integer"
                    },
                    "description": "Client-side sequence numbers per scope: { \"orgId\": 42, \"orgId:m\": 5 }",
                    "example": {
                      "abc123": 10,
                      "abc123:m": 3
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Catchup summary",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "changes": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "object",
                        "properties": {
                          "seq": {
                            "type": "integer"
                          },
                          "deletedIds": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "mSeq": {
                            "type": "integer"
                          }
                        },
                        "required": [
                          "seq",
                          "deletedIds"
                        ]
                      },
                      "description": "Per-org change summary: { [orgId]: { seq, deletedIds, membership? } }"
                    },
                    "cursor": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "description": "Last activity ID (use as offset for next request)"
                    }
                  },
                  "required": [
                    "changes",
                    "cursor"
                  ]
                },
                "example": {
                  "changes": {
                    "org-example-id": {
                      "seq": 42,
                      "deletedIds": []
                    }
                  },
                  "cursor": "d9909rsl2y2ii9vbcsc2ywg7"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/system/invite": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "systemInvite",
        "tags": [
          "system"
        ],
        "summary": "Invite to system",
        "description": "Invites one or more users to the system via email. Can be used to onboard system level users or admins.",
        "x-guard": [
          "authGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [
          "spamLimiter",
          "pointsLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emails": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "email"
                    },
                    "minItems": 1,
                    "maxItems": 50
                  }
                },
                "required": [
                  "emails"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Invitations are sent",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "prefixItems": []
                    },
                    "rejectedItemIds": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Identifiers of items that could not be processed"
                    },
                    "rejectionReasons": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "description": "Map of reason code to rejected item IDs"
                    },
                    "invitesSentCount": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "data",
                    "rejectedItemIds",
                    "invitesSentCount"
                  ]
                },
                "example": {
                  "data": [],
                  "rejectedItemIds": [],
                  "invitesSentCount": 2
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/system": {
      "delete": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "deleteUsers",
        "tags": [
          "system"
        ],
        "summary": "Delete users",
        "description": "Deletes one or more *users* from the system based on a list of IDs. This also removes the user's memberships (cascade) and sets references to the user to `null` where applicable.",
        "x-guard": [
          "authGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "ids": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minItems": 1,
                    "maxItems": 50
                  }
                },
                "required": [
                  "ids"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "prefixItems": []
                    },
                    "rejectedItemIds": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Identifiers of items that could not be processed"
                    },
                    "rejectionReasons": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "description": "Map of reason code to rejected item IDs"
                    }
                  },
                  "required": [
                    "data",
                    "rejectedItemIds"
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/system/{id}": {
      "put": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "updateUser",
        "tags": [
          "system"
        ],
        "summary": "Update user",
        "description": "Updates a *user* identified by ID.",
        "x-guard": [
          "authGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bannerUrl": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "maxLength": 2048
                  },
                  "firstName": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "minLength": 2,
                    "maxLength": 255
                  },
                  "lastName": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "minLength": 2,
                    "maxLength": 255
                  },
                  "language": {
                    "type": "string",
                    "enum": [
                      "en",
                      "nl"
                    ]
                  },
                  "newsletter": {
                    "type": "boolean"
                  },
                  "thumbnailUrl": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "maxLength": 2048
                  },
                  "slug": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 255
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                },
                "example": {
                  "id": "7sfzetbhjls7m9dg1xzavv78",
                  "entityType": "user",
                  "name": "Cecilia Hodkiewicz",
                  "firstName": "Cecilia",
                  "lastName": "Hodkiewicz",
                  "email": "cecilia.hodkiewicz@hotmail.com",
                  "slug": "ceciliahodkiewicz17",
                  "description": null,
                  "thumbnailUrl": null,
                  "bannerUrl": null,
                  "language": "en",
                  "newsletter": false,
                  "mfaRequired": false,
                  "userFlags": {},
                  "createdAt": "2024-12-13T11:17:23.643Z",
                  "modifiedAt": "2024-12-13T11:17:23.643Z",
                  "modifiedBy": null,
                  "lastStartedAt": "2024-12-13T11:17:23.643Z",
                  "lastSignInAt": "2024-12-13T11:17:23.643Z",
                  "lastSeenAt": "2024-12-13T11:17:23.643Z"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/system/paddle-webhook": {
      "post": {
        "security": [],
        "operationId": "paddleWebhook",
        "tags": [
          "system"
        ],
        "summary": "Paddle webhook (WIP)",
        "description": "Receives and handles Paddle subscription events such as purchases, renewals, and cancellations.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "tokenLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {}
            }
          }
        },
        "responses": {
          "204": {
            "description": "Paddle webhook received"
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/system/newsletter": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "sendNewsletter",
        "tags": [
          "system"
        ],
        "summary": "Newsletter to members",
        "description": "Sends a newsletter to members of one or more specified organizations.",
        "x-guard": [
          "authGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "boolean"
                }
              ],
              "default": "false"
            },
            "required": false,
            "name": "toSelf",
            "in": "query"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "organizationIds": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "maxLength": 50
                    }
                  },
                  "roles": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "admin",
                        "member"
                      ]
                    },
                    "minItems": 1
                  },
                  "subject": {
                    "type": "string",
                    "maxLength": 255
                  },
                  "content": {
                    "type": "string",
                    "maxLength": 1000000
                  }
                },
                "required": [
                  "organizationIds",
                  "roles",
                  "subject",
                  "content"
                ]
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Newsletter sent"
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/tenants": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getTenants",
        "tags": [
          "tenants"
        ],
        "summary": "Get list of tenants",
        "description": "Returns a paginated list of tenants. System admin access required.",
        "x-guard": [
          "authGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Search query"
            },
            "required": false,
            "description": "Search query",
            "name": "q",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "suspended",
                "archived"
              ],
              "description": "Filter by status"
            },
            "required": false,
            "description": "Filter by status",
            "name": "status",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "default": "50"
            },
            "required": false,
            "name": "limit",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "default": "0"
            },
            "required": false,
            "name": "offset",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "name"
              ],
              "default": "createdAt"
            },
            "required": false,
            "name": "sort",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            },
            "required": false,
            "name": "order",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Tenants list",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Tenant"
                      }
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total"
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      },
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "createTenant",
        "tags": [
          "tenants"
        ],
        "summary": "Create a new tenant",
        "description": "Creates a new tenant. System admin access required.",
        "x-guard": [
          "authGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "description": "Tenant display name"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "suspended",
                      "archived"
                    ],
                    "default": "active"
                  }
                },
                "required": [
                  "name"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Created tenant",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Tenant"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/tenants/{tenantId}": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getTenantById",
        "tags": [
          "tenants"
        ],
        "summary": "Get tenant by ID",
        "description": "Returns a single tenant by its ID. System admin access required.",
        "x-guard": [
          "authGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 24,
              "description": "Tenant ID"
            },
            "required": true,
            "description": "Tenant ID",
            "name": "tenantId",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Tenant",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Tenant"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      },
      "put": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "updateTenant",
        "tags": [
          "tenants"
        ],
        "summary": "Update a tenant",
        "description": "Updates a tenant by ID. System admin access required.",
        "x-guard": [
          "authGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 24,
              "description": "Tenant ID"
            },
            "required": true,
            "description": "Tenant ID",
            "name": "tenantId",
            "in": "path"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "suspended",
                      "archived"
                    ]
                  },
                  "restrictions": {
                    "type": "object",
                    "properties": {
                      "quotas": {
                        "type": "object",
                        "additionalProperties": {
                          "type": "integer",
                          "minimum": 0
                        },
                        "description": "Entity quotas (0 = unlimited)"
                      },
                      "rateLimits": {
                        "type": "object",
                        "properties": {
                          "apiPointsPerHour": {
                            "type": "integer",
                            "minimum": 0
                          }
                        }
                      }
                    },
                    "description": "Partial restrictions override"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated tenant",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Tenant"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      },
      "delete": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "archiveTenant",
        "tags": [
          "tenants"
        ],
        "summary": "Archive a tenant",
        "description": "Archives a tenant (soft delete). Sets status to \"archived\". System admin access required. Data retention period applies before permanent deletion.",
        "x-guard": [
          "authGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 24,
              "description": "Tenant ID"
            },
            "required": true,
            "description": "Tenant ID",
            "name": "tenantId",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Archived tenant",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "success"
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/requests": {
      "post": {
        "security": [],
        "operationId": "createRequest",
        "tags": [
          "requests"
        ],
        "summary": "Create request",
        "description": "Submits a new *request* to the system. Supported types include contact form, newsletter signup, and waitlist entry.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "emailEnumLimiter",
          "spamLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "maxLength": 255,
                    "format": "email"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "waitlist",
                      "newsletter",
                      "contact"
                    ]
                  },
                  "message": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "maxLength": 255
                  }
                },
                "required": [
                  "email",
                  "type",
                  "message"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Request"
                },
                "example": {
                  "id": "wejsiq864y0sbytrzsnlr9a0",
                  "email": "marlin62@yahoo.com",
                  "type": "contact",
                  "message": "Demens terreo amiculum.",
                  "createdAt": "2024-04-27T16:23:35.384Z",
                  "wasInvited": false
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      },
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getRequests",
        "tags": [
          "requests"
        ],
        "summary": "Get list of requests",
        "description": "Returns a list of submitted *requests* across all types: contact form, newsletter, and waitlist.",
        "x-guard": [
          "authGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 255
            },
            "required": false,
            "name": "q",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "id",
                "email",
                "type",
                "createdAt"
              ],
              "default": "createdAt"
            },
            "required": false,
            "name": "sort",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "asc"
            },
            "required": false,
            "name": "order",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "offset",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "limit",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Requests",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Request"
                      }
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total"
                  ]
                },
                "example": {
                  "items": [
                    {
                      "id": "vqqp8d07imsvjbtqtl3rtjgx",
                      "email": "lucy.stamm@hotmail.com",
                      "type": "contact",
                      "message": "Bene voro avarus adfero vis audacia abundans claro.",
                      "createdAt": "2024-03-27T17:11:37.653Z",
                      "wasInvited": false
                    },
                    {
                      "id": "thg5ogh3yr2b2dbwf7b9ecka",
                      "email": "trudie97@hotmail.com",
                      "type": "contact",
                      "message": "Turba pauci beneficium urbanus ratione cupiditate virga cognomen deprimo.",
                      "createdAt": "2024-04-30T21:08:34.063Z",
                      "wasInvited": false
                    }
                  ],
                  "total": 2
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      },
      "delete": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "deleteRequests",
        "tags": [
          "requests"
        ],
        "summary": "Delete requests",
        "description": "Deletes one or more *requests* from the system by their IDs.",
        "x-guard": [
          "authGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "ids": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minItems": 1,
                    "maxItems": 50
                  }
                },
                "required": [
                  "ids"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "prefixItems": []
                    },
                    "rejectedItemIds": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Identifiers of items that could not be processed"
                    },
                    "rejectionReasons": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "description": "Map of reason code to rejected item IDs"
                    }
                  },
                  "required": [
                    "data",
                    "rejectedItemIds"
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/metrics": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getMetrics",
        "tags": [
          "metrics"
        ],
        "summary": "Get metrics",
        "description": "EXPERIMENTAL. Returns raw system observability data (e.g. node level statistics or runtime insights).\n      Primarily intended for internal monitoring and diagnostics.",
        "x-guard": [
          "authGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "responses": {
          "200": {
            "description": "Metrics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "date": {
                        "type": "string"
                      },
                      "count": {
                        "type": "number"
                      }
                    },
                    "required": [
                      "date",
                      "count"
                    ]
                  }
                },
                "example": [
                  {
                    "date": "2026-01-01",
                    "count": 42
                  },
                  {
                    "date": "2026-01-02",
                    "count": 58
                  }
                ]
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/metrics/runtime": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getRuntimeMetrics",
        "tags": [
          "metrics"
        ],
        "summary": "Get runtime metrics",
        "description": "Returns Node.js process health metrics and OpenTelemetry runtime instrumentation data.\n      Includes memory usage, CPU time, uptime, and event loop utilization.",
        "x-guard": [
          "authGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "responses": {
          "200": {
            "description": "Runtime metrics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "process": {
                      "type": "object",
                      "properties": {
                        "uptime": {
                          "type": "number",
                          "description": "Process uptime in seconds"
                        },
                        "memory": {
                          "type": "object",
                          "properties": {
                            "heapUsed": {
                              "type": "number",
                              "description": "Heap memory used in bytes"
                            },
                            "heapTotal": {
                              "type": "number",
                              "description": "Total heap memory in bytes"
                            },
                            "external": {
                              "type": "number",
                              "description": "External memory in bytes"
                            },
                            "rss": {
                              "type": "number",
                              "description": "Resident set size in bytes"
                            }
                          },
                          "required": [
                            "heapUsed",
                            "heapTotal",
                            "external",
                            "rss"
                          ]
                        },
                        "cpu": {
                          "type": "object",
                          "properties": {
                            "user": {
                              "type": "number",
                              "description": "CPU time spent in user mode (microseconds)"
                            },
                            "system": {
                              "type": "number",
                              "description": "CPU time spent in system mode (microseconds)"
                            }
                          },
                          "required": [
                            "user",
                            "system"
                          ]
                        }
                      },
                      "required": [
                        "uptime",
                        "memory",
                        "cpu"
                      ]
                    },
                    "otel": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "unit": {
                            "type": "string"
                          },
                          "type": {
                            "type": "string",
                            "enum": [
                              "gauge",
                              "counter",
                              "histogram",
                              "sum"
                            ]
                          },
                          "dataPoints": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "value": {
                                  "anyOf": [
                                    {
                                      "type": "number"
                                    },
                                    {
                                      "type": "object",
                                      "additionalProperties": {
                                        "type": "number"
                                      }
                                    }
                                  ]
                                },
                                "attributes": {
                                  "type": "object",
                                  "additionalProperties": {
                                    "type": "string"
                                  }
                                },
                                "startTime": {
                                  "type": "string"
                                },
                                "endTime": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "value"
                              ]
                            }
                          }
                        },
                        "required": [
                          "name",
                          "type",
                          "dataPoints"
                        ]
                      },
                      "description": "OpenTelemetry metrics from RuntimeNodeInstrumentation"
                    }
                  },
                  "required": [
                    "process",
                    "otel"
                  ]
                },
                "example": {
                  "process": {
                    "uptime": 86400,
                    "memory": {
                      "heapUsed": 52428800,
                      "heapTotal": 104857600,
                      "external": 2097152,
                      "rss": 134217728
                    },
                    "cpu": {
                      "user": 150000,
                      "system": 30000
                    }
                  },
                  "otel": []
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/metrics/public": {
      "get": {
        "security": [],
        "operationId": "getPublicCounts",
        "tags": [
          "metrics"
        ],
        "summary": "Get public counts",
        "description": "Returns basic count metrics for entity types such as `users` and `organizations`.\n      This endpoint is public and uses a 1 minute in memory cache for performance.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "responses": {
          "200": {
            "description": "Public counts",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user": {
                      "type": "number"
                    },
                    "organization": {
                      "type": "number"
                    },
                    "attachment": {
                      "type": "number"
                    },
                    "page": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "user",
                    "organization",
                    "attachment",
                    "page"
                  ]
                },
                "example": {
                  "user": 150,
                  "organization": 12
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/metrics/cache": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getCacheStats",
        "tags": [
          "metrics"
        ],
        "summary": "Get entity cache statistics",
        "description": "Returns entity cache statistics including hit rates, sizes, and invalidations.\n      Useful for monitoring cache performance and tuning.",
        "x-guard": [
          "authGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "responses": {
          "200": {
            "description": "Cache statistics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "cache": {
                      "type": "object",
                      "properties": {
                        "hits": {
                          "type": "number",
                          "description": "Number of cache hits"
                        },
                        "misses": {
                          "type": "number",
                          "description": "Number of cache misses"
                        },
                        "hitRate": {
                          "type": "number",
                          "description": "Hit rate percentage (0-100)"
                        },
                        "invalidations": {
                          "type": "number",
                          "description": "Number of cache invalidations"
                        },
                        "coalescedRequests": {
                          "type": "number",
                          "description": "Number of coalesced requests (avoided duplicate fetches)"
                        },
                        "totalRequests": {
                          "type": "number",
                          "description": "Total requests (hits + misses)"
                        },
                        "uptimeSeconds": {
                          "type": "number",
                          "description": "Seconds since metrics were last reset"
                        },
                        "size": {
                          "type": "number",
                          "description": "Current number of cached entries"
                        },
                        "indexSize": {
                          "type": "number",
                          "description": "Current number of indexed entities"
                        },
                        "capacity": {
                          "type": "number",
                          "description": "Maximum cache capacity"
                        },
                        "utilization": {
                          "type": "number",
                          "description": "Cache utilization (0-1)"
                        }
                      },
                      "required": [
                        "hits",
                        "misses",
                        "hitRate",
                        "invalidations",
                        "coalescedRequests",
                        "totalRequests",
                        "uptimeSeconds",
                        "size",
                        "capacity",
                        "utilization"
                      ],
                      "description": "Entity cache statistics"
                    }
                  },
                  "required": [
                    "cache"
                  ]
                },
                "example": {
                  "cache": {
                    "hits": 1250,
                    "misses": 85,
                    "hitRate": 93.6,
                    "invalidations": 42,
                    "coalescedRequests": 156,
                    "totalRequests": 1335,
                    "uptimeSeconds": 3600,
                    "size": 420,
                    "capacity": 1000,
                    "utilization": 0.42
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/metrics/sync": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getSyncMetrics",
        "tags": [
          "metrics"
        ],
        "summary": "Get sync flow metrics",
        "description": "Returns metrics for the sync flow: CDC Worker (messages) → ActivityBus (events) → SSE (notifications).\n      Includes message/notification counts, connection stats, and tracing span data.",
        "x-guard": [
          "authGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "responses": {
          "200": {
            "description": "Sync metrics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "messagesReceived": {
                      "type": "number",
                      "description": "Total CDC messages received from worker"
                    },
                    "notificationsSent": {
                      "type": "number",
                      "description": "Total notifications sent via SSE streams"
                    },
                    "activeConnections": {
                      "type": "number",
                      "description": "Current number of active SSE connections"
                    },
                    "pgNotifyFallbacks": {
                      "type": "number",
                      "description": "Times pg_notify was used as fallback"
                    },
                    "recentSpanCount": {
                      "type": "number",
                      "description": "Number of recent spans in memory"
                    },
                    "spansByName": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "number"
                      },
                      "description": "Span counts by name"
                    },
                    "avgDurationByName": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "number"
                      },
                      "description": "Average duration by span name (ms)"
                    },
                    "errorCount": {
                      "type": "number",
                      "description": "Number of spans with error status"
                    }
                  },
                  "required": [
                    "messagesReceived",
                    "notificationsSent",
                    "activeConnections",
                    "pgNotifyFallbacks",
                    "recentSpanCount",
                    "spansByName",
                    "avgDurationByName",
                    "errorCount"
                  ]
                },
                "example": {
                  "messagesReceived": 5420,
                  "notificationsSent": 3180,
                  "activeConnections": 24,
                  "pgNotifyFallbacks": 3,
                  "recentSpanCount": 150,
                  "spansByName": {
                    "cdc.process": 2100,
                    "sse.broadcast": 3180
                  },
                  "avgDurationByName": {
                    "cdc.process": 12.5,
                    "sse.broadcast": 1.2
                  },
                  "errorCount": 7
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/{tenantId}/organizations": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "createOrganizations",
        "tags": [
          "organizations"
        ],
        "summary": "Create organizations",
        "description": "Creates one or more new *organizations* within a tenant.",
        "x-guard": [
          "authGuard",
          "tenantGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "maxLength": 50,
                      "pattern": "^temp-"
                    },
                    "name": {
                      "type": "string",
                      "minLength": 2,
                      "maxLength": 255
                    },
                    "slug": {
                      "type": "string",
                      "minLength": 2,
                      "maxLength": 255
                    }
                  },
                  "required": [
                    "id",
                    "name",
                    "slug"
                  ]
                },
                "minItems": 1,
                "maxItems": 10
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Organizations were created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "allOf": [
                          {
                            "$ref": "#/components/schemas/Organization"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "included": {
                                "type": "object",
                                "properties": {
                                  "membership": {
                                    "$ref": "#/components/schemas/MembershipBase"
                                  },
                                  "counts": {
                                    "type": "object",
                                    "properties": {
                                      "membership": {
                                        "type": "object",
                                        "properties": {
                                          "admin": {
                                            "type": "number"
                                          },
                                          "member": {
                                            "type": "number"
                                          },
                                          "pending": {
                                            "type": "number"
                                          },
                                          "total": {
                                            "type": "number"
                                          }
                                        },
                                        "required": [
                                          "admin",
                                          "member",
                                          "pending",
                                          "total"
                                        ]
                                      },
                                      "entities": {
                                        "type": "object",
                                        "properties": {
                                          "attachment": {
                                            "type": "number"
                                          },
                                          "page": {
                                            "type": "number"
                                          }
                                        },
                                        "required": [
                                          "attachment",
                                          "page"
                                        ]
                                      }
                                    },
                                    "required": [
                                      "membership",
                                      "entities"
                                    ]
                                  }
                                },
                                "required": [
                                  "membership"
                                ]
                              }
                            }
                          }
                        ],
                        "description": "An organization with membership context.",
                        "example": {
                          "id": "hmo9fwr239kqavr3yur671kl",
                          "tenantId": "vk6xht",
                          "entityType": "organization",
                          "name": "Hills, Bauch and Monahan",
                          "slug": "hills-bauch-and-monahan",
                          "description": "Multi-tiered zero trust firmware",
                          "shortName": "Hills,",
                          "country": "Turks and Caicos Islands",
                          "timezone": "America/Argentina/Buenos_Aires",
                          "defaultLanguage": "en",
                          "languages": [
                            "en"
                          ],
                          "notificationEmail": "notifications@hills-bauch-and-monahan.example",
                          "emailDomains": [],
                          "color": "#ecfdfe",
                          "thumbnailUrl": null,
                          "logoUrl": null,
                          "bannerUrl": null,
                          "websiteUrl": "https://hills-bauch-and-monahan.example",
                          "welcomeText": "Welcome to Hills, Bauch and Monahan!",
                          "authStrategies": [
                            "password"
                          ],
                          "chatSupport": true,
                          "createdAt": "2024-12-25T15:29:47.111Z",
                          "createdBy": null,
                          "modifiedAt": "2024-12-25T15:29:47.111Z",
                          "modifiedBy": null,
                          "included": {
                            "membership": {
                              "id": "kaba9fpc90mgtzmtjipw2v8s",
                              "tenantId": "w4hg40",
                              "contextType": "organization",
                              "userId": "36vxzq0rzt4pucvepsu63uw1",
                              "organizationId": "hmo9fwr239kqavr3yur671kl",
                              "role": "admin",
                              "displayOrder": 69,
                              "muted": false,
                              "archived": false
                            },
                            "counts": {
                              "membership": {
                                "admin": 30,
                                "member": 63,
                                "pending": 13,
                                "total": 93
                              },
                              "entities": {
                                "attachment": 178,
                                "page": 257
                              }
                            }
                          }
                        }
                      }
                    },
                    "rejectedItemIds": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Identifiers of items that could not be processed"
                    },
                    "rejectionReasons": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "description": "Map of reason code to rejected item IDs"
                    }
                  },
                  "required": [
                    "data",
                    "rejectedItemIds"
                  ]
                },
                "example": {
                  "data": [
                    {
                      "id": "kzmv5qbhdcqeiuvwlosan0fc",
                      "tenantId": "wgpaj0",
                      "entityType": "organization",
                      "name": "Kessler and Sons",
                      "slug": "kessler-and-sons",
                      "description": "Future-proofed contextually-based moderator",
                      "shortName": "Kessler",
                      "country": "Azerbaijan",
                      "timezone": "Europe/Kyiv",
                      "defaultLanguage": "en",
                      "languages": [
                        "en"
                      ],
                      "notificationEmail": "notifications@kessler-and-sons.example",
                      "emailDomains": [],
                      "color": "#ce39f9",
                      "thumbnailUrl": null,
                      "logoUrl": null,
                      "bannerUrl": null,
                      "websiteUrl": "https://kessler-and-sons.example",
                      "welcomeText": "Welcome to Kessler and Sons!",
                      "authStrategies": [
                        "password"
                      ],
                      "chatSupport": false,
                      "createdAt": "2024-04-19T14:04:35.773Z",
                      "createdBy": null,
                      "modifiedAt": "2024-04-19T14:04:35.773Z",
                      "modifiedBy": null,
                      "included": {
                        "membership": {
                          "id": "3y6ee6h5lc8sjfv4trxwe3yb",
                          "tenantId": "89fjn2",
                          "contextType": "organization",
                          "userId": "1t4n7coocr6ixfzcb6x5wab0",
                          "organizationId": "kzmv5qbhdcqeiuvwlosan0fc",
                          "role": "member",
                          "displayOrder": 95,
                          "muted": false,
                          "archived": false
                        },
                        "counts": {
                          "membership": {
                            "admin": 43,
                            "member": 58,
                            "pending": 47,
                            "total": 101
                          },
                          "entities": {
                            "attachment": 294,
                            "page": 327
                          }
                        }
                      }
                    },
                    {
                      "id": "p3t0ygxx0aa83en3sk1fs1we",
                      "tenantId": "74l758",
                      "entityType": "organization",
                      "name": "Howell - Ullrich",
                      "slug": "howell-ullrich",
                      "description": "Quality-focused uniform throughput",
                      "shortName": "Howell",
                      "country": "French Polynesia",
                      "timezone": "Australia/Brisbane",
                      "defaultLanguage": "en",
                      "languages": [
                        "en"
                      ],
                      "notificationEmail": "notifications@howell-ullrich.example",
                      "emailDomains": [],
                      "color": "#88b531",
                      "thumbnailUrl": null,
                      "logoUrl": null,
                      "bannerUrl": null,
                      "websiteUrl": "https://howell-ullrich.example",
                      "welcomeText": "Welcome to Howell - Ullrich!",
                      "authStrategies": [
                        "password"
                      ],
                      "chatSupport": true,
                      "createdAt": "2024-02-25T13:01:35.301Z",
                      "createdBy": null,
                      "modifiedAt": "2024-02-25T13:01:35.301Z",
                      "modifiedBy": null,
                      "included": {
                        "membership": {
                          "id": "ry5f7szmj5jhp0ad93klgj3e",
                          "tenantId": "j6ly81",
                          "contextType": "organization",
                          "userId": "u4oy2u1m55abgsmrl1zezeoj",
                          "organizationId": "p3t0ygxx0aa83en3sk1fs1we",
                          "role": "admin",
                          "displayOrder": 20,
                          "muted": false,
                          "archived": false
                        },
                        "counts": {
                          "membership": {
                            "admin": 22,
                            "member": 122,
                            "pending": 44,
                            "total": 144
                          },
                          "entities": {
                            "attachment": 321,
                            "page": 94
                          }
                        }
                      }
                    }
                  ],
                  "rejectedItemIds": []
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      },
      "delete": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "deleteOrganizations",
        "tags": [
          "organizations"
        ],
        "summary": "Delete organizations",
        "description": "Deletes one or more *organizations* by ID within a tenant.",
        "x-guard": [
          "authGuard",
          "tenantGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "ids": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minItems": 1,
                    "maxItems": 50
                  }
                },
                "required": [
                  "ids"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "prefixItems": []
                    },
                    "rejectedItemIds": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Identifiers of items that could not be processed"
                    },
                    "rejectionReasons": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "description": "Map of reason code to rejected item IDs"
                    }
                  },
                  "required": [
                    "data",
                    "rejectedItemIds"
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/organizations": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getOrganizations",
        "tags": [
          "organizations"
        ],
        "summary": "Get list of organizations",
        "description": "Returns a list of *organizations*.",
        "x-guard": [
          "authGuard",
          "crossTenantGuard",
          "relatableGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 255
            },
            "required": false,
            "name": "q",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "id",
                "name",
                "createdAt"
              ],
              "default": "createdAt"
            },
            "required": false,
            "name": "sort",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "asc"
            },
            "required": false,
            "name": "order",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "offset",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "limit",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": false,
            "name": "relatableUserId",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "admin",
                "member"
              ]
            },
            "required": false,
            "name": "role",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "true",
                "false"
              ]
            },
            "required": false,
            "name": "excludeArchived",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "include",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Organizations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Organization"
                      }
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total"
                  ]
                },
                "example": {
                  "items": [
                    {
                      "id": "qqp8d07imsvjbtqtl3rtjgxd",
                      "tenantId": "9xn03u",
                      "entityType": "organization",
                      "name": "Dicki - Jacobi",
                      "slug": "dicki-jacobi",
                      "description": "Public-key context-sensitive website",
                      "shortName": "Dicki",
                      "country": "Comoros",
                      "timezone": "Africa/Conakry",
                      "defaultLanguage": "en",
                      "languages": [
                        "en"
                      ],
                      "notificationEmail": "notifications@dicki-jacobi.example",
                      "emailDomains": [],
                      "color": "#f40655",
                      "thumbnailUrl": null,
                      "logoUrl": null,
                      "bannerUrl": null,
                      "websiteUrl": "https://dicki-jacobi.example",
                      "welcomeText": "Welcome to Dicki - Jacobi!",
                      "authStrategies": [
                        "password"
                      ],
                      "chatSupport": true,
                      "createdAt": "2024-11-21T04:00:59.122Z",
                      "createdBy": null,
                      "modifiedAt": "2024-11-21T04:00:59.122Z",
                      "modifiedBy": null,
                      "included": {
                        "membership": {
                          "id": "300jor4orrvsgezqoyxfckg3",
                          "tenantId": "ifex0a",
                          "contextType": "organization",
                          "userId": "gu87zf240qkfh0faoqjip69q",
                          "organizationId": "qqp8d07imsvjbtqtl3rtjgxd",
                          "role": "member",
                          "displayOrder": 38,
                          "muted": false,
                          "archived": false
                        },
                        "counts": {
                          "membership": {
                            "admin": 30,
                            "member": 20,
                            "pending": 27,
                            "total": 50
                          },
                          "entities": {
                            "attachment": 188,
                            "page": 390
                          }
                        }
                      }
                    },
                    {
                      "id": "hg5ogh3yr2b2dbwf7b9eckaj",
                      "tenantId": "clxs8v",
                      "entityType": "organization",
                      "name": "Witting - Wuckert",
                      "slug": "witting-wuckert",
                      "description": "Reverse-engineered sustainable matrix",
                      "shortName": "Witting",
                      "country": "Costa Rica",
                      "timezone": "Europe/Ulyanovsk",
                      "defaultLanguage": "en",
                      "languages": [
                        "en"
                      ],
                      "notificationEmail": "notifications@witting-wuckert.example",
                      "emailDomains": [],
                      "color": "#d9e6a7",
                      "thumbnailUrl": null,
                      "logoUrl": null,
                      "bannerUrl": null,
                      "websiteUrl": "https://witting-wuckert.example",
                      "welcomeText": "Welcome to Witting - Wuckert!",
                      "authStrategies": [
                        "password"
                      ],
                      "chatSupport": true,
                      "createdAt": "2024-10-29T08:46:20.790Z",
                      "createdBy": null,
                      "modifiedAt": "2024-10-29T08:46:20.790Z",
                      "modifiedBy": null,
                      "included": {
                        "membership": {
                          "id": "1u44cckbz5av195r4h3wiruz",
                          "tenantId": "44b7wk",
                          "contextType": "organization",
                          "userId": "ilwj64zmkwsnsmrzo2zxd2hr",
                          "organizationId": "hg5ogh3yr2b2dbwf7b9eckaj",
                          "role": "admin",
                          "displayOrder": 7,
                          "muted": false,
                          "archived": false
                        },
                        "counts": {
                          "membership": {
                            "admin": 7,
                            "member": 150,
                            "pending": 18,
                            "total": 157
                          },
                          "entities": {
                            "attachment": 1,
                            "page": 272
                          }
                        }
                      }
                    }
                  ],
                  "total": 2
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/{tenantId}/organizations/{id}": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getOrganization",
        "tags": [
          "organizations"
        ],
        "summary": "Get organization",
        "description": "Retrieves an *organization* by ID within a tenant. Pass `?slug=true` to resolve by slug instead.",
        "x-guard": [
          "authGuard",
          "tenantGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "id",
            "in": "path"
          },
          {
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "boolean"
                }
              ],
              "default": "false"
            },
            "required": false,
            "name": "slug",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "include",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Organization",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Organization"
                },
                "example": {
                  "id": "hmo9fwr239kqavr3yur671kl",
                  "tenantId": "vk6xht",
                  "entityType": "organization",
                  "name": "Hills, Bauch and Monahan",
                  "slug": "hills-bauch-and-monahan",
                  "description": "Multi-tiered zero trust firmware",
                  "shortName": "Hills,",
                  "country": "Turks and Caicos Islands",
                  "timezone": "America/Argentina/Buenos_Aires",
                  "defaultLanguage": "en",
                  "languages": [
                    "en"
                  ],
                  "notificationEmail": "notifications@hills-bauch-and-monahan.example",
                  "emailDomains": [],
                  "color": "#ecfdfe",
                  "thumbnailUrl": null,
                  "logoUrl": null,
                  "bannerUrl": null,
                  "websiteUrl": "https://hills-bauch-and-monahan.example",
                  "welcomeText": "Welcome to Hills, Bauch and Monahan!",
                  "authStrategies": [
                    "password"
                  ],
                  "chatSupport": true,
                  "createdAt": "2024-12-25T15:29:47.111Z",
                  "createdBy": null,
                  "modifiedAt": "2024-12-25T15:29:47.111Z",
                  "modifiedBy": null,
                  "included": {
                    "membership": {
                      "id": "kaba9fpc90mgtzmtjipw2v8s",
                      "tenantId": "w4hg40",
                      "contextType": "organization",
                      "userId": "36vxzq0rzt4pucvepsu63uw1",
                      "organizationId": "hmo9fwr239kqavr3yur671kl",
                      "role": "admin",
                      "displayOrder": 69,
                      "muted": false,
                      "archived": false
                    },
                    "counts": {
                      "membership": {
                        "admin": 30,
                        "member": 63,
                        "pending": 13,
                        "total": 93
                      },
                      "entities": {
                        "attachment": 178,
                        "page": 257
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      },
      "put": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "updateOrganization",
        "tags": [
          "organizations"
        ],
        "summary": "Update organization",
        "description": "Updates an *organization* within a tenant.",
        "x-guard": [
          "authGuard",
          "tenantGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "slug": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 255
                  },
                  "name": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 255
                  },
                  "shortName": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "minLength": 2,
                    "maxLength": 255
                  },
                  "country": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "maxLength": 255
                  },
                  "timezone": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "maxLength": 255
                  },
                  "defaultLanguage": {
                    "type": "string",
                    "enum": [
                      "en",
                      "nl"
                    ]
                  },
                  "languages": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "en",
                        "nl"
                      ]
                    },
                    "minItems": 1
                  },
                  "notificationEmail": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "maxLength": 255
                  },
                  "emailDomains": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "minLength": 4,
                      "maxLength": 255
                    }
                  },
                  "color": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "maxLength": 255
                  },
                  "thumbnailUrl": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "maxLength": 2048
                  },
                  "logoUrl": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "maxLength": 2048
                  },
                  "bannerUrl": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "maxLength": 2048
                  },
                  "websiteUrl": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "maxLength": 2048
                  },
                  "welcomeText": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "maxLength": 1000000
                  },
                  "authStrategies": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "github",
                        "google",
                        "microsoft",
                        "password",
                        "passkey",
                        "totp",
                        "email"
                      ]
                    }
                  },
                  "chatSupport": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Organization was updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Organization"
                },
                "example": {
                  "id": "hmo9fwr239kqavr3yur671kl",
                  "tenantId": "vk6xht",
                  "entityType": "organization",
                  "name": "Hills, Bauch and Monahan",
                  "slug": "hills-bauch-and-monahan",
                  "description": "Multi-tiered zero trust firmware",
                  "shortName": "Hills,",
                  "country": "Turks and Caicos Islands",
                  "timezone": "America/Argentina/Buenos_Aires",
                  "defaultLanguage": "en",
                  "languages": [
                    "en"
                  ],
                  "notificationEmail": "notifications@hills-bauch-and-monahan.example",
                  "emailDomains": [],
                  "color": "#ecfdfe",
                  "thumbnailUrl": null,
                  "logoUrl": null,
                  "bannerUrl": null,
                  "websiteUrl": "https://hills-bauch-and-monahan.example",
                  "welcomeText": "Welcome to Hills, Bauch and Monahan!",
                  "authStrategies": [
                    "password"
                  ],
                  "chatSupport": true,
                  "createdAt": "2024-12-25T15:29:47.111Z",
                  "createdBy": null,
                  "modifiedAt": "2024-12-25T15:29:47.111Z",
                  "modifiedBy": null,
                  "included": {
                    "membership": {
                      "id": "kaba9fpc90mgtzmtjipw2v8s",
                      "tenantId": "w4hg40",
                      "contextType": "organization",
                      "userId": "36vxzq0rzt4pucvepsu63uw1",
                      "organizationId": "hmo9fwr239kqavr3yur671kl",
                      "role": "admin",
                      "displayOrder": 69,
                      "muted": false,
                      "archived": false
                    },
                    "counts": {
                      "membership": {
                        "admin": 30,
                        "member": 63,
                        "pending": 13,
                        "total": 93
                      },
                      "entities": {
                        "attachment": 178,
                        "page": 257
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/pages": {
      "get": {
        "security": [],
        "operationId": "getPages",
        "tags": [
          "pages"
        ],
        "summary": "Get pages",
        "description": "Get all matching *pages*.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 255
            },
            "required": false,
            "name": "q",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "name",
                "status",
                "createdAt"
              ],
              "default": "createdAt"
            },
            "required": false,
            "name": "sort",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "asc"
            },
            "required": false,
            "name": "order",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "offset",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "limit",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "required": false,
            "name": "modifiedAfter",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Pages",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Page"
                      }
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total"
                  ]
                },
                "example": {
                  "items": [
                    {
                      "id": "9xn03u76eo7z71y60a882cwp",
                      "tenantId": "xtanax",
                      "entityType": "page",
                      "name": "Tersus summa caterva socius.",
                      "description": "[{\"id\":\"rentknse64ysxi897b72slca\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":2},\"content\":[{\"type\":\"text\",\"text\":\"Tergo adhuc virtus vesco audentia.\",\"styles\":{}}],\"children\":[]},{\"id\":\"v0wma9nofe76qdijj3579uft\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Voco commodi abduco deduco. Cubicularis volo utroque in comminor concedo quae.\",\"styles\":{}}],\"children\":[]},{\"id\":\"m7x49vesvuoos47difmncxg2\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":3},\"content\":[{\"type\":\"text\",\"text\":\"Customizable optimizing interface\",\"styles\":{}}],\"children\":[]},{\"id\":\"mp4ezyrb2octpsgmzl5girtv\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Deduco advoco surgo angulus demens tabella.\",\"styles\":{}}],\"children\":[]},{\"id\":\"b5e76die8th8sjarrqavf3k9\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Alioqui valens vester cavus contego.\",\"styles\":{}}],\"children\":[]},{\"id\":\"5676lockgekxc2reynudq1vm\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Volubilis cum vindico audacia perspiciatis supra.\",\"styles\":{}}],\"children\":[]},{\"id\":\"01uqqpbeupf840imlpwy79kx\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Chirographum depraedor rem dolorum magni deleniti.\",\"styles\":{}}],\"children\":[]},{\"id\":\"y8l5jhj01v83d75dsbq8eipz\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Amita defendo vitae amicitia coaegresco celo. Denuncio cum abbas conitor timidus teneo placeat.\",\"styles\":{}}],\"children\":[]},{\"id\":\"nzmzx6ir5mmtkyw7wpq6iqar\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Aqua amissio verto bellicus voluptatibus.\",\"styles\":{}}],\"children\":[]},{\"id\":\"sdq7onntf1937wgid2dr3k4a\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Adstringo aduro vitae.\",\"styles\":{}}],\"children\":[]},{\"id\":\"tsmz6dzl48sb2gv43lyntqc8\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Tredecim tam arx barba doloribus ubi.\",\"styles\":{}}],\"children\":[]},{\"id\":\"3gia5ivgrlqk54yfu21hwfq5\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":true},\"content\":[{\"type\":\"text\",\"text\":\"I'll hack the back-end SCSI panel, that should circuit the XSS pixel!\",\"styles\":{}}],\"children\":[]},{\"id\":\"t4na5rvew7ps396z43902qkx\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":false},\"content\":[{\"type\":\"text\",\"text\":\"I'll parse the bluetooth SMTP system, that should bandwidth the IB application!\",\"styles\":{}}],\"children\":[]},{\"id\":\"mqa3r16chcglln7w4xwywhbq\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Coniecto umbra apparatus patior quas creber cruentus. Acceptus cervus stultus consequuntur conitor a peccatus atrox. Verus consuasor venia vulpes delego bibo.\",\"styles\":{}}],\"children\":[]}]",
                      "keywords": "summisse credo thymum",
                      "status": "unpublished",
                      "publicAccess": true,
                      "parentId": null,
                      "displayOrder": 60.77,
                      "createdAt": "2024-11-21T04:00:59.122Z",
                      "createdBy": "qqp8d07imsvjbtqtl3rtjgxd",
                      "modifiedAt": "2024-11-21T04:00:59.122Z",
                      "modifiedBy": "qqp8d07imsvjbtqtl3rtjgxd",
                      "stx": {
                        "mutationId": "lfn51vpq8cnfsar9hbjwtoks",
                        "sourceId": "src_rox8rpubibp4ljoerjtgyu7c",
                        "version": 1,
                        "fieldVersions": {}
                      }
                    },
                    {
                      "id": "clxs8vayzrul7vmeyahbgyu0",
                      "tenantId": "1sr6ut",
                      "entityType": "page",
                      "name": "Conitor suspendo aiunt.",
                      "description": "[{\"id\":\"5yi033up9p7sh3ks2r8zwq1r\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":2},\"content\":[{\"type\":\"text\",\"text\":\"Acidus advoco ventus sub cogito argentum.\",\"styles\":{}}],\"children\":[]},{\"id\":\"fboemzja9vdfgx2zv9b01m31\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Summa crapula bestia auxilium non sui desino amor barba. Vitiosus eligendi clementia usus demens conor auctor basium tolero.\",\"styles\":{}}],\"children\":[]},{\"id\":\"y1o6ybmham0oio64v28td9w9\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":3},\"content\":[{\"type\":\"text\",\"text\":\"Devolved national pricing structure\",\"styles\":{}}],\"children\":[]},{\"id\":\"uk6feairqg6m8ghvah7xaglq\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Appello depono ultio explicabo ascit suscipio utpote.\",\"styles\":{}}],\"children\":[]},{\"id\":\"o8rnbv34lagvbqb1f0bj7gk0\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Nihil aut concedo.\",\"styles\":{}}],\"children\":[]},{\"id\":\"lza2mqsiib2dntnt5qd9nqio\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Universe pecus accusator cubitum amplus antea concedo. Repellendus deorsum thorax virga cicuta turbo vestigium coniecto. Tumultus vallum infit terra tempus voluptates utpote voluptatum cilicium contego.\",\"styles\":{}}],\"children\":[]},{\"id\":\"fpoc01iedtmm0lbpcg4jlkt7\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Villa adipiscor demo certe terreo ater valens vorago.\",\"styles\":{}}],\"children\":[]},{\"id\":\"aou15r4f1k42jfai19hfu7tu\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Delinquo ustilo consuasor iste acidus temperantia.\",\"styles\":{}}],\"children\":[]},{\"id\":\"usu5fbnqgbkouze9v2bk3a8c\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":false},\"content\":[{\"type\":\"text\",\"text\":\"I'll index the solid state UTF8 matrix, that should alarm the THX array!\",\"styles\":{}}],\"children\":[]},{\"id\":\"1ub8yzugla15n0c367j0v71i\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":false},\"content\":[{\"type\":\"text\",\"text\":\"The SMS transmitter is down, program the online panel so we can connect the EXE application!\",\"styles\":{}}],\"children\":[]},{\"id\":\"v62k71s1i4pknkvgc9hetwuq\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":true},\"content\":[{\"type\":\"text\",\"text\":\"You can't input the protocol without compressing the wireless AI transmitter!\",\"styles\":{}}],\"children\":[]},{\"id\":\"12620sgah7ewxmm7ifxsawnz\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Recusandae angulus civitas dolorum solvo tenuis depono. Exercitationem pel eius ancilla tardus urbs defaeco canonicus sapiente. Tamquam voluptatum vicinus perferendis molestias aliqua.\",\"styles\":{}}],\"children\":[]}]",
                      "keywords": "apud cunctatio cupiditate",
                      "status": "unpublished",
                      "publicAccess": true,
                      "parentId": null,
                      "displayOrder": 27.01,
                      "createdAt": "2024-10-29T08:46:20.790Z",
                      "createdBy": "hg5ogh3yr2b2dbwf7b9eckaj",
                      "modifiedAt": "2024-10-29T08:46:20.790Z",
                      "modifiedBy": "hg5ogh3yr2b2dbwf7b9eckaj",
                      "stx": {
                        "mutationId": "2ta8rpig1rxpmc6pv1fvu0uy",
                        "sourceId": "src_umluud11ppu88to0zzdvgboo",
                        "version": 1,
                        "fieldVersions": {}
                      }
                    }
                  ],
                  "total": 2
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/pages/{id}": {
      "get": {
        "security": [],
        "operationId": "getPage",
        "tags": [
          "pages"
        ],
        "summary": "Get page",
        "description": "Get a single *page* by ID. Cached using LRU - first request warms cache.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [
          "publicCache"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "required": true,
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Page",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Page"
                },
                "example": {
                  "id": "co96vrmic3wbowmxzbqa1e9f",
                  "tenantId": "ijllhz",
                  "entityType": "page",
                  "name": "Torrens adfectus.",
                  "description": "[{\"id\":\"gsuxw3vr48pl6tp7sthsakma\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":2},\"content\":[{\"type\":\"text\",\"text\":\"Voluptates cornu tempus eaque universe.\",\"styles\":{}}],\"children\":[]},{\"id\":\"00eh16tvtbgf9ww6l92mw5cy\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Cubo sponte utpote crux pecco. Cunctatio dolorum vallum ut adimpleo summa valde strenuus attonbitus eligendi. Vel cado vitae cibus dolores decet surgo. Accusamus praesentium cibus subito.\",\"styles\":{}}],\"children\":[]},{\"id\":\"jdi19ju9cs84hk6qa38lyn2o\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":3},\"content\":[{\"type\":\"text\",\"text\":\"User-friendly zero trust local area network\",\"styles\":{}}],\"children\":[]},{\"id\":\"qna74amiue61b06nogozm2pf\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Tremo molestias charisma clam ipsa suscipit solvo atrox tendo compello.\",\"styles\":{}}],\"children\":[]},{\"id\":\"vqykbmyp7dpyldc0bypfrexm\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Tonsor ullus damnatio.\",\"styles\":{}}],\"children\":[]},{\"id\":\"tswk9ngx9hf3xk8744x5ajkz\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Cupressus depono sto benigne delego decumbo adaugeo.\",\"styles\":{}}],\"children\":[]},{\"id\":\"lwnivieu53ux3xehht9nm1m4\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Video aer addo crinis amissio alius allatus solium delectus tabesco. Inventore contra complectus summa umquam nobis dapifer supplanto odio. Atavus absorbeo suffoco cado deorsum amor.\",\"styles\":{}}],\"children\":[]},{\"id\":\"0ri835ut03wi0b9qgg0uqrv5\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Nam certe vulgaris sumptus spiritus vae fugit creo.\",\"styles\":{}}],\"children\":[]},{\"id\":\"n27q8r7pcdg9hcm0x49xbzq8\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Dolorem conduco causa.\",\"styles\":{}}],\"children\":[]},{\"id\":\"nll6t29w8f4ntogtgukyh7uf\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Caste pauper argumentum civitas.\",\"styles\":{}}],\"children\":[]},{\"id\":\"gl9t7b7rqcwvms7dc7fywaog\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":false},\"content\":[{\"type\":\"text\",\"text\":\"Use the mobile HTTP port, then you can copy the primary hard drive!\",\"styles\":{}}],\"children\":[]},{\"id\":\"3z2sele8arr79dedc18jwvnv\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":false},\"content\":[{\"type\":\"text\",\"text\":\"Try to hack the SSD feed, maybe it will input the bluetooth panel!\",\"styles\":{}}],\"children\":[]},{\"id\":\"speq7h23aullo71m96x7z0q8\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":false},\"content\":[{\"type\":\"text\",\"text\":\"Use the virtual SSL transmitter, then you can index the bluetooth capacitor!\",\"styles\":{}}],\"children\":[]},{\"id\":\"gfzant80p4t5n4wsy3dupe6w\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Solium solvo degero ventus apto tempus aurum delectus facilis cura. Dolore animadverto maxime theatrum esse amo statua adfectus tremo contigo. Demens timidus calcar cohors appono aranea decet cultura substantia.\",\"styles\":{}}],\"children\":[]}]",
                  "keywords": "tantillus debitis mollitia",
                  "status": "unpublished",
                  "publicAccess": true,
                  "parentId": null,
                  "displayOrder": 47.51,
                  "createdAt": "2024-08-06T10:28:33.226Z",
                  "createdBy": "0f0ak5vkrrl687pmkwpa1vju",
                  "modifiedAt": "2024-08-06T10:28:33.226Z",
                  "modifiedBy": "0f0ak5vkrrl687pmkwpa1vju",
                  "stx": {
                    "mutationId": "rd8bblxzxc0ypms2q9lzubyp",
                    "sourceId": "src_ddo8vfjx4d5px26kw7k3q17d",
                    "version": 1,
                    "fieldVersions": {}
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/{tenantId}/pages": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "createPages",
        "tags": [
          "pages"
        ],
        "summary": "Create pages",
        "description": "Insert one or more new *pages*. Returns created pages and any rejected items.",
        "x-guard": [
          "authGuard",
          "tenantGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "maxLength": 255
                    },
                    "stx": {
                      "$ref": "#/components/schemas/StxRequestBase"
                    }
                  },
                  "required": [
                    "stx"
                  ]
                },
                "minItems": 1,
                "maxItems": 50
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Pages already created (idempotent)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Page"
                      }
                    },
                    "rejectedItemIds": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Identifiers of items that could not be processed"
                    },
                    "rejectionReasons": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "description": "Map of reason code to rejected item IDs"
                    }
                  },
                  "required": [
                    "data",
                    "rejectedItemIds"
                  ]
                },
                "example": {
                  "data": [
                    {
                      "id": "wgpaj0cfyc7n2sjn5fpfkbrs",
                      "tenantId": "lwtksu",
                      "entityType": "page",
                      "name": "Voluntarius contra.",
                      "description": "[{\"id\":\"sv7197tjewi82un9oaovqez5\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":2},\"content\":[{\"type\":\"text\",\"text\":\"Tergo crepusculum certe desparatus.\",\"styles\":{}}],\"children\":[]},{\"id\":\"gn4gbnzgkkvpe9gz3ubfe1cy\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Dolor somnus vobis atavus tergiversatio tersus suadeo colo. Id abduco supplanto asporto. Curatio xiphias auxilium teneo claudeo unde vulgo.\",\"styles\":{}}],\"children\":[]},{\"id\":\"ckor9miv407jtr44i73qbubd\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":3},\"content\":[{\"type\":\"text\",\"text\":\"User-centric cohesive website\",\"styles\":{}}],\"children\":[]},{\"id\":\"s5z6m809jxfs0bh87p3s4m28\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Deprimo statim eos vulnero subito eligendi.\",\"styles\":{}}],\"children\":[]},{\"id\":\"b44qitzh51z23k9v9xysrod4\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Exercitationem somnus cattus cilicium textilis cervus alo tactus.\",\"styles\":{}}],\"children\":[]},{\"id\":\"crdl0wkotvmk4pzfa5cbdd7t\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Colligo audio substantia coepi laudantium.\",\"styles\":{}}],\"children\":[]},{\"id\":\"jvdnuv3011uurb2n9jot5yy9\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Apparatus suasoria valde voveo quis adaugeo.\",\"styles\":{}}],\"children\":[]},{\"id\":\"d0n9tnysrgtkzb4q16l6vk1j\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Amita depereo armarium apud pariatur deinde. Alienus admoneo creo asporto amita sol certus.\",\"styles\":{}}],\"children\":[]},{\"id\":\"85qiihfazhgrkk9pd9ffcxxd\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Vero casus celer cogo armarium cicuta tumultus utique.\",\"styles\":{}}],\"children\":[]},{\"id\":\"0czj9drtc6pn3oce7gp1a617\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Ars conicio viridis fuga arbor tergo aliquam beatae dolores.\",\"styles\":{}}],\"children\":[]},{\"id\":\"xbb8ta08f6gpjystj7org0eo\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":true},\"content\":[{\"type\":\"text\",\"text\":\"We need to index the neural PNG hard drive!\",\"styles\":{}}],\"children\":[]},{\"id\":\"3pv2cd1cyptn5y38klpmul0u\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":false},\"content\":[{\"type\":\"text\",\"text\":\"I'll back up the optical SCSI protocol, that should pixel the TLS transmitter!\",\"styles\":{}}],\"children\":[]},{\"id\":\"ckkssgcat76c1yl2950x95ig\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":false},\"content\":[{\"type\":\"text\",\"text\":\"We need to connect the open-source SCSI transmitter!\",\"styles\":{}}],\"children\":[]},{\"id\":\"e2zvvsdjzs69i0u4bgh2mi3z\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Advoco vetus quidem alii asporto tum perspiciatis. Urbanus adsuesco sint acervus. Quam velut suffoco comminor pectus.\",\"styles\":{}}],\"children\":[]}]",
                      "keywords": "virgo spes tracto",
                      "status": "unpublished",
                      "publicAccess": true,
                      "parentId": null,
                      "displayOrder": 63.43,
                      "createdAt": "2024-04-19T14:04:35.773Z",
                      "createdBy": "kzmv5qbhdcqeiuvwlosan0fc",
                      "modifiedAt": "2024-04-19T14:04:35.773Z",
                      "modifiedBy": "kzmv5qbhdcqeiuvwlosan0fc",
                      "stx": {
                        "mutationId": "2bb6438g9cersdww4bfs8s5t",
                        "sourceId": "src_co33lcgsn94dor3vtrwsv2ec",
                        "version": 1,
                        "fieldVersions": {}
                      }
                    },
                    {
                      "id": "74l7581dwpxxbqdej8622zpg",
                      "tenantId": "o54qw5",
                      "entityType": "page",
                      "name": "Taedium spargo cetera.",
                      "description": "[{\"id\":\"jc193ejrgin74z5ux1rgfexs\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":2},\"content\":[{\"type\":\"text\",\"text\":\"Vehemens deprecator ventus ascit denique tum candidus.\",\"styles\":{}}],\"children\":[]},{\"id\":\"fz83f5371i428t415oniffbo\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Defendo adinventitias carpo verecundia cometes vergo sortitus. Ceno terra cado temptatio carmen. Sequi cicuta derelinquo attollo.\",\"styles\":{}}],\"children\":[]},{\"id\":\"3td1xcibizesuu0hbu7ueqwa\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":3},\"content\":[{\"type\":\"text\",\"text\":\"Distributed analyzing throughput\",\"styles\":{}}],\"children\":[]},{\"id\":\"hwcs12chg2bip74vief94b0y\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Audacia virga aptus corrupti utpote vulnus subseco.\",\"styles\":{}}],\"children\":[]},{\"id\":\"rzrp2cd1o3nbvsmte7xb48x1\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Auxilium ascit cuppedia abbas amo patior credo tenus aestus degero.\",\"styles\":{}}],\"children\":[]},{\"id\":\"08wbs2ym427p0cu6f894ioex\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Approbo depraedor inventore cervus.\",\"styles\":{}}],\"children\":[]},{\"id\":\"nxrjo52ya0tfl4ivhu5nshs1\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Vos tendo avaritia utrum admoneo desino tres subiungo conqueror cavus.\",\"styles\":{}}],\"children\":[]},{\"id\":\"ia4ickrlzw20fv9mrk2t8lqo\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Voluptatem traho universe cohors coniuratio virga advoco adicio tamen acidus.\",\"styles\":{}}],\"children\":[]},{\"id\":\"az0auwgxmh287lxsg33nu9nn\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":true},\"content\":[{\"type\":\"text\",\"text\":\"We need to navigate the cross-platform SQL application!\",\"styles\":{}}],\"children\":[]},{\"id\":\"bl25vxnolulq79hb3ks4rigb\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":true},\"content\":[{\"type\":\"text\",\"text\":\"You can't program the array without quantifying the wireless HDD system!\",\"styles\":{}}],\"children\":[]},{\"id\":\"cl32u2mmt2vf0xi3wn6sq9gq\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Spiritus commodi arx temporibus arma tredecim sumo adeo. Sufficio coaegresco denuncio soleo assumenda caute volup. Chirographum aestus surculus derelinquo alioqui temporibus tergeo.\",\"styles\":{}}],\"children\":[]}]",
                      "keywords": "decipio cupressus una",
                      "status": "unpublished",
                      "publicAccess": true,
                      "parentId": null,
                      "displayOrder": 18.82,
                      "createdAt": "2024-02-25T13:01:35.301Z",
                      "createdBy": "p3t0ygxx0aa83en3sk1fs1we",
                      "modifiedAt": "2024-02-25T13:01:35.301Z",
                      "modifiedBy": "p3t0ygxx0aa83en3sk1fs1we",
                      "stx": {
                        "mutationId": "60ozr0yjbednvd5gs836nelu",
                        "sourceId": "src_d6hh0iebfum8827w318qwfuf",
                        "version": 1,
                        "fieldVersions": {}
                      }
                    }
                  ],
                  "rejectedItemIds": []
                }
              }
            }
          },
          "201": {
            "description": "Pages created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Page"
                      }
                    },
                    "rejectedItemIds": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Identifiers of items that could not be processed"
                    },
                    "rejectionReasons": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "description": "Map of reason code to rejected item IDs"
                    }
                  },
                  "required": [
                    "data",
                    "rejectedItemIds"
                  ]
                },
                "example": {
                  "data": [
                    {
                      "id": "wgpaj0cfyc7n2sjn5fpfkbrs",
                      "tenantId": "lwtksu",
                      "entityType": "page",
                      "name": "Voluntarius contra.",
                      "description": "[{\"id\":\"7euvkutw30qmuemxa9l4k62f\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":2},\"content\":[{\"type\":\"text\",\"text\":\"Tergo crepusculum certe desparatus.\",\"styles\":{}}],\"children\":[]},{\"id\":\"qlm0430iw4ek140f57ajjqg3\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Dolor somnus vobis atavus tergiversatio tersus suadeo colo. Id abduco supplanto asporto. Curatio xiphias auxilium teneo claudeo unde vulgo.\",\"styles\":{}}],\"children\":[]},{\"id\":\"28uh6en6itnbzxn6grpw5qkf\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":3},\"content\":[{\"type\":\"text\",\"text\":\"User-centric cohesive website\",\"styles\":{}}],\"children\":[]},{\"id\":\"q133p0t2bk3yftwg8zyub9t4\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Deprimo statim eos vulnero subito eligendi.\",\"styles\":{}}],\"children\":[]},{\"id\":\"keusqbwmunmur3nkz46ybqvi\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Exercitationem somnus cattus cilicium textilis cervus alo tactus.\",\"styles\":{}}],\"children\":[]},{\"id\":\"tv9ttob06ce5vqj6llrb5hcy\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Colligo audio substantia coepi laudantium.\",\"styles\":{}}],\"children\":[]},{\"id\":\"w9ua0kx9ktyc5lp05b1gkcfr\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Apparatus suasoria valde voveo quis adaugeo.\",\"styles\":{}}],\"children\":[]},{\"id\":\"gpqex3y3iqg5jn0iuosgi29t\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Amita depereo armarium apud pariatur deinde. Alienus admoneo creo asporto amita sol certus.\",\"styles\":{}}],\"children\":[]},{\"id\":\"r6g0bqboidj4000n8fyrcqdo\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Vero casus celer cogo armarium cicuta tumultus utique.\",\"styles\":{}}],\"children\":[]},{\"id\":\"pfgxu16w07zl1miapabrvbpu\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Ars conicio viridis fuga arbor tergo aliquam beatae dolores.\",\"styles\":{}}],\"children\":[]},{\"id\":\"oxqcpeum88exs3iocee5m45y\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":true},\"content\":[{\"type\":\"text\",\"text\":\"We need to index the neural PNG hard drive!\",\"styles\":{}}],\"children\":[]},{\"id\":\"lvo2p2yiyvcb5wsphapfnjg1\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":false},\"content\":[{\"type\":\"text\",\"text\":\"I'll back up the optical SCSI protocol, that should pixel the TLS transmitter!\",\"styles\":{}}],\"children\":[]},{\"id\":\"pgcjrgd81xpkblsisuj9wmlu\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":false},\"content\":[{\"type\":\"text\",\"text\":\"We need to connect the open-source SCSI transmitter!\",\"styles\":{}}],\"children\":[]},{\"id\":\"v4ymcbkwluzuxi9d5finq9ar\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Advoco vetus quidem alii asporto tum perspiciatis. Urbanus adsuesco sint acervus. Quam velut suffoco comminor pectus.\",\"styles\":{}}],\"children\":[]}]",
                      "keywords": "virgo spes tracto",
                      "status": "unpublished",
                      "publicAccess": true,
                      "parentId": null,
                      "displayOrder": 63.43,
                      "createdAt": "2024-04-19T14:04:35.773Z",
                      "createdBy": "kzmv5qbhdcqeiuvwlosan0fc",
                      "modifiedAt": "2024-04-19T14:04:35.773Z",
                      "modifiedBy": "kzmv5qbhdcqeiuvwlosan0fc",
                      "stx": {
                        "mutationId": "2bb6438g9cersdww4bfs8s5t",
                        "sourceId": "src_co33lcgsn94dor3vtrwsv2ec",
                        "version": 1,
                        "fieldVersions": {}
                      }
                    },
                    {
                      "id": "74l7581dwpxxbqdej8622zpg",
                      "tenantId": "o54qw5",
                      "entityType": "page",
                      "name": "Taedium spargo cetera.",
                      "description": "[{\"id\":\"iivevkopr02qiznjlafh1ii1\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":2},\"content\":[{\"type\":\"text\",\"text\":\"Vehemens deprecator ventus ascit denique tum candidus.\",\"styles\":{}}],\"children\":[]},{\"id\":\"lq12bj4oxg3o2wv82xdohbhd\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Defendo adinventitias carpo verecundia cometes vergo sortitus. Ceno terra cado temptatio carmen. Sequi cicuta derelinquo attollo.\",\"styles\":{}}],\"children\":[]},{\"id\":\"gr0ka83enpjyzwbkxvm2z8x5\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":3},\"content\":[{\"type\":\"text\",\"text\":\"Distributed analyzing throughput\",\"styles\":{}}],\"children\":[]},{\"id\":\"l9ud744sqrabajgiirp5gpqm\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Audacia virga aptus corrupti utpote vulnus subseco.\",\"styles\":{}}],\"children\":[]},{\"id\":\"q2wlmlqyud1trnpqnacntnv7\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Auxilium ascit cuppedia abbas amo patior credo tenus aestus degero.\",\"styles\":{}}],\"children\":[]},{\"id\":\"utzksqtwrmcqxuja4ow62d9y\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Approbo depraedor inventore cervus.\",\"styles\":{}}],\"children\":[]},{\"id\":\"ufkyyd3njfpmukid019tm9ek\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Vos tendo avaritia utrum admoneo desino tres subiungo conqueror cavus.\",\"styles\":{}}],\"children\":[]},{\"id\":\"jslbu5rfc9eouwgllhicupyn\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Voluptatem traho universe cohors coniuratio virga advoco adicio tamen acidus.\",\"styles\":{}}],\"children\":[]},{\"id\":\"m5l15pw94g7m1gioxhkl5uww\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":true},\"content\":[{\"type\":\"text\",\"text\":\"We need to navigate the cross-platform SQL application!\",\"styles\":{}}],\"children\":[]},{\"id\":\"upxvuisiv0kebrpmbwoneyqv\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":true},\"content\":[{\"type\":\"text\",\"text\":\"You can't program the array without quantifying the wireless HDD system!\",\"styles\":{}}],\"children\":[]},{\"id\":\"ssj3vdkmeoryl1tycz02cpc3\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Spiritus commodi arx temporibus arma tredecim sumo adeo. Sufficio coaegresco denuncio soleo assumenda caute volup. Chirographum aestus surculus derelinquo alioqui temporibus tergeo.\",\"styles\":{}}],\"children\":[]}]",
                      "keywords": "decipio cupressus una",
                      "status": "unpublished",
                      "publicAccess": true,
                      "parentId": null,
                      "displayOrder": 18.82,
                      "createdAt": "2024-02-25T13:01:35.301Z",
                      "createdBy": "p3t0ygxx0aa83en3sk1fs1we",
                      "modifiedAt": "2024-02-25T13:01:35.301Z",
                      "modifiedBy": "p3t0ygxx0aa83en3sk1fs1we",
                      "stx": {
                        "mutationId": "60ozr0yjbednvd5gs836nelu",
                        "sourceId": "src_d6hh0iebfum8827w318qwfuf",
                        "version": 1,
                        "fieldVersions": {}
                      }
                    }
                  ],
                  "rejectedItemIds": []
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      },
      "delete": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "deletePages",
        "tags": [
          "pages"
        ],
        "summary": "Delete pages",
        "description": "Delete one or more *pages* by ID.",
        "x-guard": [
          "authGuard",
          "tenantGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "ids": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minItems": 1,
                    "maxItems": 50
                  }
                },
                "required": [
                  "ids"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "prefixItems": []
                    },
                    "rejectedItemIds": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Identifiers of items that could not be processed"
                    },
                    "rejectionReasons": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "description": "Map of reason code to rejected item IDs"
                    }
                  },
                  "required": [
                    "data",
                    "rejectedItemIds"
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/{tenantId}/pages/{id}": {
      "put": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "updatePage",
        "tags": [
          "pages"
        ],
        "summary": "Update page",
        "description": "Update a single *page* by ID.",
        "x-guard": [
          "authGuard",
          "tenantGuard",
          "sysAdminGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "key": {
                    "anyOf": [
                      {
                        "type": "string",
                        "enum": [
                          "name"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "description"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "keywords"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "displayOrder"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "status"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "parentId"
                        ]
                      }
                    ]
                  },
                  "data": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "number"
                      },
                      {
                        "type": "boolean"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      {
                        "type": "null"
                      }
                    ]
                  },
                  "stx": {
                    "$ref": "#/components/schemas/StxRequestBase"
                  }
                },
                "required": [
                  "key",
                  "data",
                  "stx"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Page updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Page"
                },
                "example": {
                  "id": "co96vrmic3wbowmxzbqa1e9f",
                  "tenantId": "ijllhz",
                  "entityType": "page",
                  "name": "Torrens adfectus.",
                  "description": "[{\"id\":\"zzkdviq97paxni7sch072pwm\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":2},\"content\":[{\"type\":\"text\",\"text\":\"Voluptates cornu tempus eaque universe.\",\"styles\":{}}],\"children\":[]},{\"id\":\"uflg1wd0oof4detwyvtzmr5g\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Cubo sponte utpote crux pecco. Cunctatio dolorum vallum ut adimpleo summa valde strenuus attonbitus eligendi. Vel cado vitae cibus dolores decet surgo. Accusamus praesentium cibus subito.\",\"styles\":{}}],\"children\":[]},{\"id\":\"9dospj1nj69i66r37s9v7l3r\",\"type\":\"heading\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"level\":3},\"content\":[{\"type\":\"text\",\"text\":\"User-friendly zero trust local area network\",\"styles\":{}}],\"children\":[]},{\"id\":\"swvodt6pcyfuz11cyqazov0u\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Tremo molestias charisma clam ipsa suscipit solvo atrox tendo compello.\",\"styles\":{}}],\"children\":[]},{\"id\":\"wolcut7ryqbgs2thxue5he40\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Tonsor ullus damnatio.\",\"styles\":{}}],\"children\":[]},{\"id\":\"5pd33qa3u8364jtgg1w2zyri\",\"type\":\"bulletListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Cupressus depono sto benigne delego decumbo adaugeo.\",\"styles\":{}}],\"children\":[]},{\"id\":\"fxlpn9lu1vu6upfu6twmorkk\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Video aer addo crinis amissio alius allatus solium delectus tabesco. Inventore contra complectus summa umquam nobis dapifer supplanto odio. Atavus absorbeo suffoco cado deorsum amor.\",\"styles\":{}}],\"children\":[]},{\"id\":\"o6qacrezkda4576crtkms7e6\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Nam certe vulgaris sumptus spiritus vae fugit creo.\",\"styles\":{}}],\"children\":[]},{\"id\":\"2zvjle3i8vqtv2svwh69matn\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Dolorem conduco causa.\",\"styles\":{}}],\"children\":[]},{\"id\":\"1pab3f2e7bjwmg5pwfkwoyor\",\"type\":\"numberedListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Caste pauper argumentum civitas.\",\"styles\":{}}],\"children\":[]},{\"id\":\"xtb73h1zvv89a02x76lm0uzv\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":false},\"content\":[{\"type\":\"text\",\"text\":\"Use the mobile HTTP port, then you can copy the primary hard drive!\",\"styles\":{}}],\"children\":[]},{\"id\":\"iglchmicf149auk7fhpunynb\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":false},\"content\":[{\"type\":\"text\",\"text\":\"Try to hack the SSD feed, maybe it will input the bluetooth panel!\",\"styles\":{}}],\"children\":[]},{\"id\":\"tygobvyi7arq1v9hje0fialr\",\"type\":\"checkListItem\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\",\"checked\":false},\"content\":[{\"type\":\"text\",\"text\":\"Use the virtual SSL transmitter, then you can index the bluetooth capacitor!\",\"styles\":{}}],\"children\":[]},{\"id\":\"545nz2g9ha6zihn3ce6gzpuq\",\"type\":\"paragraph\",\"props\":{\"textColor\":\"default\",\"backgroundColor\":\"default\",\"textAlignment\":\"left\"},\"content\":[{\"type\":\"text\",\"text\":\"Solium solvo degero ventus apto tempus aurum delectus facilis cura. Dolore animadverto maxime theatrum esse amo statua adfectus tremo contigo. Demens timidus calcar cohors appono aranea decet cultura substantia.\",\"styles\":{}}],\"children\":[]}]",
                  "keywords": "tantillus debitis mollitia",
                  "status": "unpublished",
                  "publicAccess": true,
                  "parentId": null,
                  "displayOrder": 47.51,
                  "createdAt": "2024-08-06T10:28:33.226Z",
                  "createdBy": "0f0ak5vkrrl687pmkwpa1vju",
                  "modifiedAt": "2024-08-06T10:28:33.226Z",
                  "modifiedBy": "0f0ak5vkrrl687pmkwpa1vju",
                  "stx": {
                    "mutationId": "rd8bblxzxc0ypms2q9lzubyp",
                    "sourceId": "src_ddo8vfjx4d5px26kw7k3q17d",
                    "version": 1,
                    "fieldVersions": {}
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/users": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getUsers",
        "tags": [
          "users"
        ],
        "summary": "Get list of users",
        "description": "Returns a list of *users*.",
        "x-guard": [
          "authGuard",
          "crossTenantGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 255
            },
            "required": false,
            "name": "q",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "id",
                "name",
                "email",
                "role",
                "createdAt",
                "lastSeenAt"
              ],
              "default": "createdAt"
            },
            "required": false,
            "name": "sort",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "asc"
            },
            "required": false,
            "name": "order",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "offset",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "limit",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "admin"
              ]
            },
            "required": false,
            "name": "role",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Users",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "allOf": [
                          {
                            "$ref": "#/components/schemas/UserBase"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "lastSeenAt": {
                                "type": [
                                  "string",
                                  "null"
                                ]
                              },
                              "role": {
                                "type": [
                                  "string",
                                  "null"
                                ],
                                "enum": [
                                  "admin",
                                  null
                                ]
                              }
                            },
                            "required": [
                              "lastSeenAt"
                            ]
                          }
                        ],
                        "description": "Base user schema with essential fields for identification and display.",
                        "example": {
                          "id": "eyp654w9neyhyka0hezx1xnh",
                          "createdAt": "2024-05-14T11:11:41.599Z",
                          "modifiedAt": "2024-08-06T10:38:55.463Z",
                          "name": "Rosendo Bayer",
                          "description": null,
                          "entityType": "user",
                          "slug": "rosendo.bayer89",
                          "thumbnailUrl": null,
                          "bannerUrl": null,
                          "email": "rosendo.bayer7@yahoo.com"
                        }
                      }
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total"
                  ]
                },
                "example": {
                  "items": [
                    {
                      "id": "mybas8856dxliw6zkuiovvao",
                      "entityType": "user",
                      "name": "Becky Gutmann",
                      "firstName": "Becky",
                      "lastName": "Gutmann",
                      "email": "becky.gutmann@gmail.com",
                      "slug": "beckygutmann",
                      "description": null,
                      "thumbnailUrl": null,
                      "bannerUrl": null,
                      "language": "en",
                      "newsletter": true,
                      "mfaRequired": false,
                      "userFlags": {},
                      "createdAt": "2024-11-11T02:15:51.916Z",
                      "modifiedAt": "2024-11-11T02:15:51.916Z",
                      "modifiedBy": null,
                      "lastStartedAt": "2024-11-11T02:15:51.916Z",
                      "lastSignInAt": "2024-11-11T02:15:51.916Z",
                      "lastSeenAt": "2024-11-11T02:15:51.916Z",
                      "memberships": [
                        {
                          "id": "300jor4orrvsgezqoyxfckg3",
                          "tenantId": "ifex0a",
                          "contextType": "organization",
                          "userId": "gu87zf240qkfh0faoqjip69q",
                          "organizationId": "fpb1r33xdbp099f3xi8028r0",
                          "role": "member",
                          "displayOrder": 38,
                          "muted": false,
                          "archived": false
                        }
                      ]
                    },
                    {
                      "id": "rfau2m1vkjc8nvp8e05meqcc",
                      "entityType": "user",
                      "name": "Lonie Kuhn",
                      "firstName": "Lonie",
                      "lastName": "Kuhn",
                      "email": "lonie_kuhn75@gmail.com",
                      "slug": "loniekuhn64",
                      "description": null,
                      "thumbnailUrl": null,
                      "bannerUrl": null,
                      "language": "en",
                      "newsletter": true,
                      "mfaRequired": false,
                      "userFlags": {},
                      "createdAt": "2024-05-19T00:16:13.149Z",
                      "modifiedAt": "2024-05-19T00:16:13.149Z",
                      "modifiedBy": null,
                      "lastStartedAt": "2024-05-19T00:16:13.149Z",
                      "lastSignInAt": "2024-05-19T00:16:13.149Z",
                      "lastSeenAt": "2024-05-19T00:16:13.149Z",
                      "memberships": [
                        {
                          "id": "1u44cckbz5av195r4h3wiruz",
                          "tenantId": "44b7wk",
                          "contextType": "organization",
                          "userId": "ilwj64zmkwsnsmrzo2zxd2hr",
                          "organizationId": "eylomg4p6xgvt4g11e2hqqxx",
                          "role": "admin",
                          "displayOrder": 7,
                          "muted": false,
                          "archived": false
                        }
                      ]
                    }
                  ],
                  "total": 2
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/users/{relatableUserId}": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getUser",
        "tags": [
          "users"
        ],
        "summary": "Get user",
        "description": "Retrieves a *user* by ID. The requesting user must share at least one organization membership. Pass `?slug=true` to resolve by slug instead.",
        "x-guard": [
          "authGuard",
          "crossTenantGuard",
          "relatableGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "relatableUserId",
            "in": "path"
          },
          {
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "boolean"
                }
              ],
              "default": "false"
            },
            "required": false,
            "name": "slug",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "User",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/UserBase"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "lastSeenAt": {
                          "type": [
                            "string",
                            "null"
                          ]
                        }
                      },
                      "required": [
                        "lastSeenAt"
                      ]
                    }
                  ],
                  "description": "Base user schema with essential fields for identification and display.",
                  "example": {
                    "id": "eyp654w9neyhyka0hezx1xnh",
                    "createdAt": "2024-05-14T11:11:41.599Z",
                    "modifiedAt": "2024-08-06T10:38:55.463Z",
                    "name": "Rosendo Bayer",
                    "description": null,
                    "entityType": "user",
                    "slug": "rosendo.bayer89",
                    "thumbnailUrl": null,
                    "bannerUrl": null,
                    "email": "rosendo.bayer7@yahoo.com"
                  }
                },
                "example": {
                  "id": "7sfzetbhjls7m9dg1xzavv78",
                  "entityType": "user",
                  "name": "Cecilia Hodkiewicz",
                  "firstName": "Cecilia",
                  "lastName": "Hodkiewicz",
                  "email": "cecilia.hodkiewicz@hotmail.com",
                  "slug": "ceciliahodkiewicz17",
                  "description": null,
                  "thumbnailUrl": null,
                  "bannerUrl": null,
                  "language": "en",
                  "newsletter": false,
                  "mfaRequired": false,
                  "userFlags": {},
                  "createdAt": "2024-12-13T11:17:23.643Z",
                  "modifiedAt": "2024-12-13T11:17:23.643Z",
                  "modifiedBy": null,
                  "lastStartedAt": "2024-12-13T11:17:23.643Z",
                  "lastSignInAt": "2024-12-13T11:17:23.643Z",
                  "lastSeenAt": "2024-12-13T11:17:23.643Z"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/{tenantId}/{orgId}/attachments": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getAttachments",
        "tags": [
          "attachments"
        ],
        "summary": "Get attachments",
        "description": "Returns a paginated list of *attachments* for the organization.",
        "x-guard": [
          "authGuard",
          "tenantGuard",
          "orgGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "orgId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 255
            },
            "required": false,
            "name": "q",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "name",
                "createdAt",
                "contentType"
              ],
              "default": "createdAt"
            },
            "required": false,
            "name": "sort",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "asc"
            },
            "required": false,
            "name": "order",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "offset",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "limit",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "required": false,
            "name": "modifiedAfter",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Attachments",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Attachment"
                      }
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total"
                  ]
                },
                "example": {
                  "items": [
                    {
                      "id": "o7z71y60a882cwpxtanaxnsp",
                      "tenantId": "9nes1y",
                      "entityType": "attachment",
                      "name": "elegantly.vss",
                      "description": null,
                      "keywords": "vesco audentia angustus",
                      "public": false,
                      "publicAccess": false,
                      "bucketName": "attachments",
                      "groupId": null,
                      "filename": "elegantly.vss",
                      "contentType": "application/vnd.apple.installer+xml",
                      "convertedContentType": null,
                      "size": "9665489",
                      "originalKey": "uploads/b0gleyvjbbm5piweg2q4gqa3/elegantly.vss",
                      "convertedKey": null,
                      "thumbnailKey": null,
                      "createdAt": "2024-11-21T04:00:59.122Z",
                      "createdBy": "qqp8d07imsvjbtqtl3rtjgxd",
                      "modifiedAt": "2024-11-21T04:00:59.122Z",
                      "modifiedBy": "qqp8d07imsvjbtqtl3rtjgxd",
                      "stx": {
                        "mutationId": "vx9cfyey6mqh9hmikgme3gy3",
                        "sourceId": "src_a9lhe0ctrmzc53x7z222ydtq",
                        "version": 1,
                        "fieldVersions": {}
                      },
                      "organizationId": "57iu31mz5oaqf10oe7y51pr5"
                    },
                    {
                      "id": "yahbgyu01sr6utecq3o02wpa",
                      "tenantId": "56tpd7",
                      "entityType": "attachment",
                      "name": "woefully_bah.vsw",
                      "description": null,
                      "keywords": "auxilium non sui",
                      "public": false,
                      "publicAccess": false,
                      "bucketName": "attachments",
                      "groupId": null,
                      "filename": "woefully_bah.vsw",
                      "contentType": "audio/3gpp",
                      "convertedContentType": null,
                      "size": "1107841",
                      "originalKey": "uploads/7syiavgc67t5nr6k4huj5qv4/woefully_bah.vsw",
                      "convertedKey": null,
                      "thumbnailKey": null,
                      "createdAt": "2024-10-29T08:46:20.790Z",
                      "createdBy": "hg5ogh3yr2b2dbwf7b9eckaj",
                      "modifiedAt": "2024-10-29T08:46:20.790Z",
                      "modifiedBy": "hg5ogh3yr2b2dbwf7b9eckaj",
                      "stx": {
                        "mutationId": "k6bwmvl0e44bpmhsyauxcwuw",
                        "sourceId": "src_jsrzvzac8qx1h9s6vzhgvcj0",
                        "version": 1,
                        "fieldVersions": {}
                      },
                      "organizationId": "rs3xtuk03gxco9kzp2r8sr1z"
                    }
                  ],
                  "total": 2
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      },
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "createAttachments",
        "tags": [
          "attachments"
        ],
        "summary": "Create attachments",
        "description": "Registers one or more new *attachments* after client side upload. Includes metadata like name, type, and linked entity.",
        "x-guard": [
          "authGuard",
          "tenantGuard",
          "orgGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "orgId",
            "in": "path"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "maxLength": 50
                    },
                    "name": {
                      "type": "string",
                      "maxLength": 255
                    },
                    "filename": {
                      "type": "string",
                      "maxLength": 255
                    },
                    "contentType": {
                      "type": "string",
                      "maxLength": 255
                    },
                    "size": {
                      "type": "string",
                      "maxLength": 255
                    },
                    "originalKey": {
                      "type": "string",
                      "maxLength": 2048
                    },
                    "bucketName": {
                      "type": "string",
                      "maxLength": 255
                    },
                    "public": {
                      "type": "boolean"
                    },
                    "publicAccess": {
                      "type": "boolean"
                    },
                    "groupId": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "maxLength": 50
                    },
                    "convertedContentType": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "maxLength": 255
                    },
                    "convertedKey": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "maxLength": 2048
                    },
                    "thumbnailKey": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "maxLength": 2048
                    },
                    "stx": {
                      "$ref": "#/components/schemas/StxRequestBase"
                    }
                  },
                  "required": [
                    "filename",
                    "contentType",
                    "size",
                    "originalKey",
                    "bucketName",
                    "stx"
                  ]
                },
                "minItems": 1,
                "maxItems": 50
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Attachments already created (idempotent)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Attachment"
                      }
                    },
                    "rejectedItemIds": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Identifiers of items that could not be processed"
                    },
                    "rejectionReasons": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "description": "Map of reason code to rejected item IDs"
                    }
                  },
                  "required": [
                    "data",
                    "rejectedItemIds"
                  ]
                },
                "example": {
                  "data": [
                    {
                      "id": "slwtksu3yccsd9ihoiny6rso",
                      "tenantId": "b7j0p6",
                      "entityType": "attachment",
                      "name": "excluding_ugh_besides.svgz",
                      "description": null,
                      "keywords": "nam curatio xiphias",
                      "public": false,
                      "publicAccess": false,
                      "bucketName": "attachments",
                      "groupId": null,
                      "filename": "excluding_ugh_besides.svgz",
                      "contentType": "application/vnd.ms-fontobject",
                      "convertedContentType": null,
                      "size": "7651256",
                      "originalKey": "uploads/auzy6zwhhoizpinjn9as93qc/excluding_ugh_besides.svgz",
                      "convertedKey": null,
                      "thumbnailKey": null,
                      "createdAt": "2024-04-19T14:04:35.773Z",
                      "createdBy": "kzmv5qbhdcqeiuvwlosan0fc",
                      "modifiedAt": "2024-04-19T14:04:35.773Z",
                      "modifiedBy": "kzmv5qbhdcqeiuvwlosan0fc",
                      "stx": {
                        "mutationId": "b6pakf4ovzm1ne3h55lgj31d",
                        "sourceId": "src_63n9apx99a5auvr5cyj5s37i",
                        "version": 1,
                        "fieldVersions": {}
                      },
                      "organizationId": "rnjjhhc4mupuqz0iqmny8wdl"
                    },
                    {
                      "id": "pxxbqdej8622zpgo54qw5fqo",
                      "tenantId": "9wwhw5",
                      "entityType": "attachment",
                      "name": "gown.txt",
                      "description": null,
                      "keywords": "denique tum candidus",
                      "public": false,
                      "publicAccess": false,
                      "bucketName": "attachments",
                      "groupId": null,
                      "filename": "gown.txt",
                      "contentType": "application/x-sh",
                      "convertedContentType": null,
                      "size": "6125227",
                      "originalKey": "uploads/g18wbwob9s8r85nah671ybl6/gown.txt",
                      "convertedKey": null,
                      "thumbnailKey": null,
                      "createdAt": "2024-02-25T13:01:35.301Z",
                      "createdBy": "p3t0ygxx0aa83en3sk1fs1we",
                      "modifiedAt": "2024-02-25T13:01:35.301Z",
                      "modifiedBy": "p3t0ygxx0aa83en3sk1fs1we",
                      "stx": {
                        "mutationId": "y4dvzpz75e03ldr2ga54hj92",
                        "sourceId": "src_yzr7v1itpc9wztvbcy21q04o",
                        "version": 1,
                        "fieldVersions": {}
                      },
                      "organizationId": "q81k5rbzt4yq63pob5r5tp1l"
                    }
                  ],
                  "rejectedItemIds": []
                }
              }
            }
          },
          "201": {
            "description": "Attachments created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Attachment"
                      }
                    },
                    "rejectedItemIds": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Identifiers of items that could not be processed"
                    },
                    "rejectionReasons": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "description": "Map of reason code to rejected item IDs"
                    }
                  },
                  "required": [
                    "data",
                    "rejectedItemIds"
                  ]
                },
                "example": {
                  "data": [
                    {
                      "id": "slwtksu3yccsd9ihoiny6rso",
                      "tenantId": "b7j0p6",
                      "entityType": "attachment",
                      "name": "excluding_ugh_besides.svgz",
                      "description": null,
                      "keywords": "nam curatio xiphias",
                      "public": false,
                      "publicAccess": false,
                      "bucketName": "attachments",
                      "groupId": null,
                      "filename": "excluding_ugh_besides.svgz",
                      "contentType": "application/vnd.ms-fontobject",
                      "convertedContentType": null,
                      "size": "7651256",
                      "originalKey": "uploads/auzy6zwhhoizpinjn9as93qc/excluding_ugh_besides.svgz",
                      "convertedKey": null,
                      "thumbnailKey": null,
                      "createdAt": "2024-04-19T14:04:35.773Z",
                      "createdBy": "kzmv5qbhdcqeiuvwlosan0fc",
                      "modifiedAt": "2024-04-19T14:04:35.773Z",
                      "modifiedBy": "kzmv5qbhdcqeiuvwlosan0fc",
                      "stx": {
                        "mutationId": "b6pakf4ovzm1ne3h55lgj31d",
                        "sourceId": "src_63n9apx99a5auvr5cyj5s37i",
                        "version": 1,
                        "fieldVersions": {}
                      },
                      "organizationId": "rnjjhhc4mupuqz0iqmny8wdl"
                    },
                    {
                      "id": "pxxbqdej8622zpgo54qw5fqo",
                      "tenantId": "9wwhw5",
                      "entityType": "attachment",
                      "name": "gown.txt",
                      "description": null,
                      "keywords": "denique tum candidus",
                      "public": false,
                      "publicAccess": false,
                      "bucketName": "attachments",
                      "groupId": null,
                      "filename": "gown.txt",
                      "contentType": "application/x-sh",
                      "convertedContentType": null,
                      "size": "6125227",
                      "originalKey": "uploads/g18wbwob9s8r85nah671ybl6/gown.txt",
                      "convertedKey": null,
                      "thumbnailKey": null,
                      "createdAt": "2024-02-25T13:01:35.301Z",
                      "createdBy": "p3t0ygxx0aa83en3sk1fs1we",
                      "modifiedAt": "2024-02-25T13:01:35.301Z",
                      "modifiedBy": "p3t0ygxx0aa83en3sk1fs1we",
                      "stx": {
                        "mutationId": "y4dvzpz75e03ldr2ga54hj92",
                        "sourceId": "src_yzr7v1itpc9wztvbcy21q04o",
                        "version": 1,
                        "fieldVersions": {}
                      },
                      "organizationId": "q81k5rbzt4yq63pob5r5tp1l"
                    }
                  ],
                  "rejectedItemIds": []
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      },
      "delete": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "deleteAttachments",
        "tags": [
          "attachments"
        ],
        "summary": "Delete attachments",
        "description": "Deletes one or more *attachment* records by ID. This does not delete the underlying file in storage.",
        "x-guard": [
          "authGuard",
          "tenantGuard",
          "orgGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "orgId",
            "in": "path"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "ids": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minItems": 1,
                    "maxItems": 50
                  },
                  "stx": {
                    "type": "object",
                    "properties": {
                      "mutationId": {
                        "type": "string"
                      },
                      "sourceId": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "mutationId",
                      "sourceId"
                    ]
                  }
                },
                "required": [
                  "ids"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "prefixItems": []
                    },
                    "rejectedItemIds": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Identifiers of items that could not be processed"
                    },
                    "rejectionReasons": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "description": "Map of reason code to rejected item IDs"
                    }
                  },
                  "required": [
                    "data",
                    "rejectedItemIds"
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/{tenantId}/{orgId}/attachments/presigned-url": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getPresignedUrl",
        "tags": [
          "attachments"
        ],
        "summary": "Get presigned URL",
        "description": "Generates and returns a presigned URL for accessing a private attachment file in S3. Public files should use the public CDN URL directly. Requires organization context.",
        "x-guard": [
          "authGuard",
          "tenantGuard",
          "orgGuard"
        ],
        "x-rate-limiter": [
          "presignedUrlLimiter"
        ],
        "x-cache": [
          "httpCache"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "orgId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 2048
            },
            "required": true,
            "name": "key",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Presigned URL",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/{tenantId}/{orgId}/attachments/{id}": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getAttachment",
        "tags": [
          "attachments"
        ],
        "summary": "Get attachment",
        "description": "Returns a single *attachment* by ID. Supports CDC cache via X-Cache-Token header.",
        "x-guard": [
          "authGuard",
          "tenantGuard",
          "orgGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [
          "appCache"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "orgId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Attachment",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Attachment"
                },
                "example": {
                  "id": "og9ynkm3vp2mdgi3oeicogxv",
                  "tenantId": "lphxlo",
                  "entityType": "attachment",
                  "name": "yet_rightfully_lest.ogx",
                  "description": null,
                  "keywords": "damno tenax arx",
                  "public": false,
                  "publicAccess": false,
                  "bucketName": "attachments",
                  "groupId": null,
                  "filename": "yet_rightfully_lest.ogx",
                  "contentType": "application/vnd.ms-fontobject",
                  "convertedContentType": null,
                  "size": "2524242",
                  "originalKey": "uploads/y6bqnt152wowxrfkyy8dwkbm/yet_rightfully_lest.ogx",
                  "convertedKey": null,
                  "thumbnailKey": null,
                  "createdAt": "2024-10-12T17:43:05.360Z",
                  "createdBy": "0uwim8y2tppz7th9tol75wjz",
                  "modifiedAt": "2024-10-12T17:43:05.360Z",
                  "modifiedBy": "0uwim8y2tppz7th9tol75wjz",
                  "stx": {
                    "mutationId": "pkeuemouu8t58r8fuj3tlenh",
                    "sourceId": "src_qurk6hu54pnfytf99mpmuhw0",
                    "version": 1,
                    "fieldVersions": {}
                  },
                  "organizationId": "7eswx7d6csd6xo4nqwl7k09e"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      },
      "put": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "updateAttachment",
        "tags": [
          "attachments"
        ],
        "summary": "Update attachment",
        "description": "Updates metadata of an *attachment*, such as its name or associated entity.",
        "x-guard": [
          "authGuard",
          "tenantGuard",
          "orgGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "orgId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "key": {
                    "anyOf": [
                      {
                        "type": "string",
                        "enum": [
                          "name"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "originalKey"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "publicAccess"
                        ]
                      }
                    ]
                  },
                  "data": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "number"
                      },
                      {
                        "type": "boolean"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      {
                        "type": "null"
                      }
                    ]
                  },
                  "stx": {
                    "$ref": "#/components/schemas/StxRequestBase"
                  }
                },
                "required": [
                  "key",
                  "data",
                  "stx"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Attachment was updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Attachment"
                },
                "example": {
                  "id": "og9ynkm3vp2mdgi3oeicogxv",
                  "tenantId": "lphxlo",
                  "entityType": "attachment",
                  "name": "yet_rightfully_lest.ogx",
                  "description": null,
                  "keywords": "damno tenax arx",
                  "public": false,
                  "publicAccess": false,
                  "bucketName": "attachments",
                  "groupId": null,
                  "filename": "yet_rightfully_lest.ogx",
                  "contentType": "application/vnd.ms-fontobject",
                  "convertedContentType": null,
                  "size": "2524242",
                  "originalKey": "uploads/y6bqnt152wowxrfkyy8dwkbm/yet_rightfully_lest.ogx",
                  "convertedKey": null,
                  "thumbnailKey": null,
                  "createdAt": "2024-10-12T17:43:05.360Z",
                  "createdBy": "0uwim8y2tppz7th9tol75wjz",
                  "modifiedAt": "2024-10-12T17:43:05.360Z",
                  "modifiedBy": "0uwim8y2tppz7th9tol75wjz",
                  "stx": {
                    "mutationId": "pkeuemouu8t58r8fuj3tlenh",
                    "sourceId": "src_qurk6hu54pnfytf99mpmuhw0",
                    "version": 1,
                    "fieldVersions": {}
                  },
                  "organizationId": "7eswx7d6csd6xo4nqwl7k09e"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/{tenantId}/{orgId}/attachments/{id}/link": {
      "get": {
        "security": [],
        "operationId": "getAttachmentLink",
        "tags": [
          "attachments"
        ],
        "summary": "Get attachment link",
        "description": "Returns an HTML page with OG meta tags for link previews and a client-side redirect to the attachment in the app.",
        "x-guard": [
          "publicGuard"
        ],
        "x-rate-limiter": [
          "tokenLimiter"
        ],
        "x-cache": [
          "httpCache"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Success"
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/{tenantId}/{orgId}/memberships": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "membershipInvite",
        "tags": [
          "memberships"
        ],
        "summary": "Create memberships",
        "description": "Creates one or more *memberships*, inviting users (existing or new) to a context entity such as an organization.",
        "x-guard": [
          "authGuard",
          "tenantGuard",
          "orgGuard"
        ],
        "x-rate-limiter": [
          "spamLimiter",
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "orgId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "entityId",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "organization"
              ]
            },
            "required": true,
            "name": "entityType",
            "in": "query"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emails": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "minLength": 4,
                      "maxLength": 255,
                      "format": "email"
                    },
                    "minItems": 1,
                    "maxItems": 50
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "admin",
                      "member"
                    ]
                  }
                },
                "required": [
                  "emails",
                  "role"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Created memberships and invite count",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/MembershipBase"
                      }
                    },
                    "rejectedItemIds": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Identifiers of items that could not be processed"
                    },
                    "rejectionReasons": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "description": "Map of reason code to rejected item IDs"
                    },
                    "invitesSentCount": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "data",
                    "rejectedItemIds",
                    "invitesSentCount"
                  ]
                },
                "example": {
                  "data": [
                    {
                      "id": "vn86f6g3ci8ybeh37sz3gscf",
                      "tenantId": "gmpj3u",
                      "contextType": "organization",
                      "userId": "avw3f7pkm7vsxl2157n34cen",
                      "organizationId": "80754cxm7om1aq3batq3hdpx",
                      "role": "admin",
                      "displayOrder": 32,
                      "muted": false,
                      "archived": false
                    }
                  ],
                  "rejectedItemIds": [],
                  "invitesSentCount": 1
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      },
      "delete": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "deleteMemberships",
        "tags": [
          "memberships"
        ],
        "summary": "Delete memberships",
        "description": "Deletes one or more *memberships* by ID. This removes the membership but does not delete the associated user(s).",
        "x-guard": [
          "authGuard",
          "tenantGuard",
          "orgGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "orgId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "entityId",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "organization"
              ]
            },
            "required": true,
            "name": "entityType",
            "in": "query"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "ids": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minItems": 1,
                    "maxItems": 50
                  }
                },
                "required": [
                  "ids"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "prefixItems": []
                    },
                    "rejectedItemIds": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Identifiers of items that could not be processed"
                    },
                    "rejectionReasons": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "description": "Map of reason code to rejected item IDs"
                    }
                  },
                  "required": [
                    "data",
                    "rejectedItemIds"
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/{tenantId}/{orgId}/memberships/{id}": {
      "put": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "updateMembership",
        "tags": [
          "memberships"
        ],
        "summary": "Update membership",
        "description": "Updates the *membership* metadata, such as role, `muted`, or `archived` status.",
        "x-guard": [
          "authGuard",
          "tenantGuard",
          "orgGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "orgId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "role": {
                    "type": "string",
                    "enum": [
                      "admin",
                      "member"
                    ]
                  },
                  "muted": {
                    "type": "boolean"
                  },
                  "archived": {
                    "type": "boolean"
                  },
                  "displayOrder": {
                    "type": "number"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Membership updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Membership"
                },
                "example": {
                  "id": "575b0vreys30k2k4z795uufw",
                  "contextType": "organization",
                  "userId": "xg7596t8jiy8d0v8irrljzhy",
                  "organizationId": "7ul53b62aw5h7k6x44nbu2r5",
                  "role": "admin",
                  "displayOrder": 49,
                  "muted": false,
                  "archived": false,
                  "createdAt": "2024-10-28T14:52:59.502Z",
                  "createdBy": "xg7596t8jiy8d0v8irrljzhy",
                  "modifiedAt": "2024-10-28T14:52:59.502Z",
                  "modifiedBy": null,
                  "tenantId": "test01"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/{tenantId}/{orgId}/memberships/{id}/{acceptOrReject}": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "handleMembershipInvitation",
        "tags": [
          "memberships"
        ],
        "summary": "Respond to membership invitation",
        "description": "Accepting activates the associated membership. Rejecting simply removes the invitation token.",
        "x-guard": [
          "authGuard",
          "crossTenantGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "id",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "accept",
                "reject"
              ]
            },
            "required": true,
            "name": "acceptOrReject",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Invitation was accepted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContextEntityBase"
                },
                "example": {
                  "id": "bafp6iiu2dt74olfvl618xur",
                  "createdAt": "2024-09-15T16:29:26.122Z",
                  "modifiedAt": "2024-12-04T06:32:26.983Z",
                  "tenantId": "d9wtu57tfwtfux7yivt59ywq",
                  "name": "Nolan - Jacobson",
                  "entityType": "organization",
                  "slug": "nolan---jacobson",
                  "thumbnailUrl": null,
                  "bannerUrl": null
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/{tenantId}/{orgId}/memberships/members": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getMembers",
        "tags": [
          "memberships"
        ],
        "summary": "Get list of members",
        "description": "Retrieves members (users) of a context entity by ID, including their associated *membership* data.",
        "x-guard": [
          "authGuard",
          "tenantGuard",
          "orgGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "orgId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 255
            },
            "required": false,
            "name": "q",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "id",
                "name",
                "email",
                "role",
                "createdAt",
                "lastSeenAt"
              ],
              "default": "createdAt"
            },
            "required": false,
            "name": "sort",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "asc"
            },
            "required": false,
            "name": "order",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "offset",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "limit",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "entityId",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "organization"
              ]
            },
            "required": true,
            "name": "entityType",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "admin",
                "member"
              ]
            },
            "required": false,
            "name": "role",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "userIds",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Members",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "allOf": [
                          {
                            "$ref": "#/components/schemas/UserBase"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "lastSeenAt": {
                                "type": [
                                  "string",
                                  "null"
                                ]
                              },
                              "membership": {
                                "$ref": "#/components/schemas/MembershipBase"
                              }
                            },
                            "required": [
                              "lastSeenAt",
                              "membership"
                            ]
                          }
                        ],
                        "description": "Base user schema with essential fields for identification and display.",
                        "example": {
                          "id": "eyp654w9neyhyka0hezx1xnh",
                          "createdAt": "2024-05-14T11:11:41.599Z",
                          "modifiedAt": "2024-08-06T10:38:55.463Z",
                          "name": "Rosendo Bayer",
                          "description": null,
                          "entityType": "user",
                          "slug": "rosendo.bayer89",
                          "thumbnailUrl": null,
                          "bannerUrl": null,
                          "email": "rosendo.bayer7@yahoo.com"
                        }
                      }
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total"
                  ]
                },
                "example": {
                  "items": [
                    {
                      "id": "qqp8d07imsvjbtqtl3rtjgxd",
                      "entityType": "user",
                      "name": "Dr. Lucy Brakus",
                      "firstName": "Cortney",
                      "lastName": "Bashirian",
                      "email": "estelle89@yahoo.com",
                      "slug": "elbert78",
                      "description": null,
                      "thumbnailUrl": null,
                      "bannerUrl": null,
                      "language": "en",
                      "mfaRequired": false,
                      "createdAt": "2024-11-21T04:00:59.122Z",
                      "modifiedAt": "2024-11-21T04:00:59.122Z",
                      "modifiedBy": null,
                      "lastStartedAt": "2024-11-21T04:00:59.122Z",
                      "lastSignInAt": "2024-11-21T04:00:59.122Z",
                      "lastSeenAt": "2024-11-21T04:00:59.122Z",
                      "membership": {
                        "id": "300jor4orrvsgezqoyxfckg3",
                        "tenantId": "ifex0a",
                        "contextType": "organization",
                        "userId": "gu87zf240qkfh0faoqjip69q",
                        "organizationId": "fpb1r33xdbp099f3xi8028r0",
                        "role": "member",
                        "displayOrder": 38,
                        "muted": false,
                        "archived": false
                      }
                    },
                    {
                      "id": "hg5ogh3yr2b2dbwf7b9eckaj",
                      "entityType": "user",
                      "name": "Ms. Trudie Feeney",
                      "firstName": "Ron",
                      "lastName": "Stracke",
                      "email": "ellie_koch85@hotmail.com",
                      "slug": "nichole34",
                      "description": null,
                      "thumbnailUrl": null,
                      "bannerUrl": null,
                      "language": "en",
                      "mfaRequired": false,
                      "createdAt": "2024-10-29T08:46:20.790Z",
                      "modifiedAt": "2024-10-29T08:46:20.790Z",
                      "modifiedBy": null,
                      "lastStartedAt": "2024-10-29T08:46:20.790Z",
                      "lastSignInAt": "2024-10-29T08:46:20.790Z",
                      "lastSeenAt": "2024-10-29T08:46:20.790Z",
                      "membership": {
                        "id": "1u44cckbz5av195r4h3wiruz",
                        "tenantId": "44b7wk",
                        "contextType": "organization",
                        "userId": "ilwj64zmkwsnsmrzo2zxd2hr",
                        "organizationId": "eylomg4p6xgvt4g11e2hqqxx",
                        "role": "admin",
                        "displayOrder": 7,
                        "muted": false,
                        "archived": false
                      }
                    }
                  ],
                  "total": 2
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/{tenantId}/{orgId}/memberships/pending": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "getPendingMemberships",
        "tags": [
          "memberships"
        ],
        "summary": "Get list of pending memberships",
        "description": "Returns pending memberships for a context entity, identified by ID. This does not include pending invitations for non-existing users.",
        "x-guard": [
          "authGuard",
          "tenantGuard",
          "orgGuard"
        ],
        "x-rate-limiter": [],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "orgId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 255
            },
            "required": false,
            "name": "q",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "createdAt"
              ],
              "default": "createdAt"
            },
            "required": false,
            "name": "sort",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "asc"
            },
            "required": false,
            "name": "order",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "offset",
            "in": "query"
          },
          {
            "schema": {
              "type": "string"
            },
            "required": false,
            "name": "limit",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "entityId",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "organization"
              ]
            },
            "required": true,
            "name": "entityType",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Pending memberships",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "email": {
                            "type": "string",
                            "format": "email"
                          },
                          "thumbnailUrl": {
                            "type": [
                              "string",
                              "null"
                            ]
                          },
                          "role": {
                            "type": [
                              "string",
                              "null"
                            ],
                            "enum": [
                              "admin",
                              "member",
                              null
                            ]
                          },
                          "createdAt": {
                            "type": "string"
                          },
                          "createdBy": {
                            "allOf": [
                              {
                                "$ref": "#/components/schemas/UserMinimalBase"
                              },
                              {
                                "type": [
                                  "object",
                                  "null"
                                ]
                              }
                            ]
                          }
                        },
                        "required": [
                          "id",
                          "email",
                          "thumbnailUrl",
                          "role",
                          "createdAt",
                          "createdBy"
                        ]
                      }
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total"
                  ]
                },
                "example": {
                  "items": [
                    {
                      "id": "eyvjbbm5piweg2q4gqa3vx9c",
                      "contextType": "organization",
                      "email": "troy.reichert@hotmail.com",
                      "userId": "qqp8d07imsvjbtqtl3rtjgxd",
                      "tokenId": "xtanaxnsp9nes1yx645yb0gl",
                      "role": "member",
                      "rejectedAt": null,
                      "createdAt": "2024-11-21T04:00:59.122Z",
                      "createdBy": "ikgme3gy3a9lhe0ctrmzc53x",
                      "organizationId": "9xn03u76eo7z71y60a882cwp",
                      "tenantId": "test01"
                    },
                    {
                      "id": "pi37syiavgc67t5nr6k4huj5",
                      "contextType": "organization",
                      "email": "kurt_treutel@yahoo.com",
                      "userId": "hg5ogh3yr2b2dbwf7b9eckaj",
                      "tokenId": "1sr6utecq3o02wpa56tpd77k",
                      "role": "admin",
                      "rejectedAt": null,
                      "createdAt": "2024-10-29T08:46:20.790Z",
                      "createdBy": "e44bpmhsyauxcwuwjsrzvzac",
                      "organizationId": "clxs8vayzrul7vmeyahbgyu0",
                      "tenantId": "test01"
                    }
                  ],
                  "total": 2
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    },
    "/{tenantId}/{orgId}/seen": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "operationId": "markSeen",
        "tags": [
          "seen"
        ],
        "summary": "Mark entities as seen",
        "description": "Records that the current user has viewed one or more product entities. Deduplicates against existing records. Updates entity view counts for newly seen entities.",
        "x-guard": [
          "authGuard",
          "tenantGuard",
          "orgGuard"
        ],
        "x-rate-limiter": [
          "pointsLimiter"
        ],
        "x-cache": [],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "required": true,
            "name": "orgId",
            "in": "path"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "entityIds": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "maxLength": 50
                    },
                    "minItems": 1,
                    "maxItems": 500,
                    "description": "Entity IDs the user has viewed since last batch"
                  },
                  "entityType": {
                    "type": "string",
                    "enum": [
                      "attachment",
                      "page"
                    ],
                    "description": "Entity type for all IDs in this batch"
                  }
                },
                "required": [
                  "entityIds",
                  "entityType"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Seen records processed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "newCount": {
                      "type": "integer",
                      "minimum": 0,
                      "description": "Number of entities newly marked as seen (deduped)"
                    }
                  },
                  "required": [
                    "newCount"
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequestsError"
          }
        }
      }
    }
  },
  "webhooks": {}
}