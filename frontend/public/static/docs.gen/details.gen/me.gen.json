[
  {
    "operationId": "getMe",
    "responses": [
      {
        "status": 200,
        "description": "User",
        "name": "Me",
        "ref": "#/components/schemas/Me",
        "contentType": "application/json",
        "schema": {
          "type": "object",
          "properties": {
            "user": {
              "type": "object",
              "required": true,
              "properties": {
                "createdAt": { "type": "string", "required": true },
                "id": { "type": "string", "required": true },
                "entityType": {
                  "type": "string",
                  "required": true,
                  "enum": ["user"]
                },
                "name": { "type": "string", "required": true },
                "description": {
                  "type": ["string", "null"],
                  "required": true
                },
                "slug": { "type": "string", "required": true },
                "thumbnailUrl": {
                  "type": ["string", "null"],
                  "required": true
                },
                "bannerUrl": {
                  "type": ["string", "null"],
                  "required": true
                },
                "email": {
                  "type": "string",
                  "required": true,
                  "format": "email"
                },
                "mfaRequired": { "type": "boolean", "required": true },
                "firstName": {
                  "type": ["string", "null"],
                  "required": true
                },
                "lastName": {
                  "type": ["string", "null"],
                  "required": true
                },
                "language": {
                  "type": "string",
                  "required": true,
                  "enum": ["en", "nl"]
                },
                "newsletter": { "type": "boolean", "required": true },
                "userFlags": {
                  "type": "object",
                  "required": true,
                  "properties": {
                    "finishedOnboarding": { "type": "boolean", "required": true }
                  }
                },
                "modifiedAt": {
                  "type": ["string", "null"],
                  "required": true
                },
                "lastStartedAt": {
                  "type": ["string", "null"],
                  "required": true
                },
                "lastSignInAt": {
                  "type": ["string", "null"],
                  "required": true
                },
                "modifiedBy": {
                  "type": ["string", "null"],
                  "required": true
                },
                "lastSeenAt": {
                  "required": true,
                  "anyOf": [
                    { "type": "string", "required": false },
                    { "type": "null", "required": false }
                  ]
                }
              },
              "ref": "#/components/schemas/User"
            },
            "systemRole": {
              "type": "string",
              "required": true,
              "description": "Explain system role here",
              "enum": ["admin", "user"]
            }
          },
          "ref": "#/components/schemas/Me",
          "contentType": "application/json"
        },
        "example": {
          "user": {
            "id": "7qgsnou9b80h3jlnu1j458h6",
            "entityType": "user",
            "name": "Mr. Odell Gislason",
            "firstName": "Odell",
            "lastName": "Gislason",
            "email": "odell.gislason@yahoo.com",
            "slug": "odellgislason57",
            "description": null,
            "thumbnailUrl": null,
            "bannerUrl": null,
            "language": "en",
            "newsletter": true,
            "mfaRequired": false,
            "userFlags": {},
            "createdAt": "2024-07-14T22:49:14.651Z",
            "modifiedAt": "2024-07-14T22:49:14.651Z",
            "modifiedBy": null,
            "lastStartedAt": "2024-07-14T22:49:14.651Z",
            "lastSignInAt": "2024-07-14T22:49:14.651Z",
            "lastSeenAt": "2024-07-14T22:49:14.651Z"
          },
          "systemRole": "user"
        }
      },
      {
        "status": 400,
        "description": "Bad request: problem processing request.",
        "name": "BadRequestError",
        "ref": "#/components/responses/BadRequestError",
        "contentType": "application/json"
      },
      {
        "status": 401,
        "description": "Unauthorized: authentication required.",
        "name": "UnauthorizedError",
        "ref": "#/components/responses/UnauthorizedError",
        "contentType": "application/json"
      },
      {
        "status": 403,
        "description": "Forbidden: insufficient permissions.",
        "name": "ForbiddenError",
        "ref": "#/components/responses/ForbiddenError",
        "contentType": "application/json"
      },
      {
        "status": 404,
        "description": "Not found: resource does not exist.",
        "name": "NotFoundError",
        "ref": "#/components/responses/NotFoundError",
        "contentType": "application/json"
      },
      {
        "status": 429,
        "description": "Rate limit: too many requests.",
        "name": "TooManyRequestsError",
        "ref": "#/components/responses/TooManyRequestsError",
        "contentType": "application/json"
      }
    ]
  },
  {
    "operationId": "updateMe",
    "responses": [
      {
        "status": 200,
        "description": "User",
        "name": "User",
        "ref": "#/components/schemas/User",
        "contentType": "application/json",
        "schema": {
          "type": "object",
          "properties": {
            "createdAt": { "type": "string", "required": true },
            "id": { "type": "string", "required": true },
            "entityType": {
              "type": "string",
              "required": true,
              "enum": ["user"]
            },
            "name": { "type": "string", "required": true },
            "description": {
              "type": ["string", "null"],
              "required": true
            },
            "slug": { "type": "string", "required": true },
            "thumbnailUrl": {
              "type": ["string", "null"],
              "required": true
            },
            "bannerUrl": {
              "type": ["string", "null"],
              "required": true
            },
            "email": {
              "type": "string",
              "required": true,
              "format": "email"
            },
            "mfaRequired": { "type": "boolean", "required": true },
            "firstName": {
              "type": ["string", "null"],
              "required": true
            },
            "lastName": {
              "type": ["string", "null"],
              "required": true
            },
            "language": {
              "type": "string",
              "required": true,
              "enum": ["en", "nl"]
            },
            "newsletter": { "type": "boolean", "required": true },
            "userFlags": {
              "type": "object",
              "required": true,
              "properties": {
                "finishedOnboarding": { "type": "boolean", "required": true }
              }
            },
            "modifiedAt": {
              "type": ["string", "null"],
              "required": true
            },
            "lastStartedAt": {
              "type": ["string", "null"],
              "required": true
            },
            "lastSignInAt": {
              "type": ["string", "null"],
              "required": true
            },
            "modifiedBy": {
              "type": ["string", "null"],
              "required": true
            },
            "lastSeenAt": {
              "required": true,
              "anyOf": [
                { "type": "string", "required": false },
                { "type": "null", "required": false }
              ]
            }
          },
          "ref": "#/components/schemas/User",
          "contentType": "application/json"
        },
        "example": {
          "id": "w6g7sfzetbhjls7m9dg1xzav",
          "entityType": "user",
          "name": "Franco Corwin",
          "firstName": "Franco",
          "lastName": "Corwin",
          "email": "franco_corwin@gmail.com",
          "slug": "francocorwin",
          "description": null,
          "thumbnailUrl": null,
          "bannerUrl": null,
          "language": "en",
          "newsletter": true,
          "mfaRequired": false,
          "userFlags": {},
          "createdAt": "2024-12-13T11:17:23.643Z",
          "modifiedAt": "2024-12-13T11:17:23.643Z",
          "modifiedBy": null,
          "lastStartedAt": "2024-12-13T11:17:23.643Z",
          "lastSignInAt": "2024-12-13T11:17:23.643Z",
          "lastSeenAt": "2024-12-13T11:17:23.643Z"
        }
      },
      {
        "status": 400,
        "description": "Bad request: problem processing request.",
        "name": "BadRequestError",
        "ref": "#/components/responses/BadRequestError",
        "contentType": "application/json"
      },
      {
        "status": 401,
        "description": "Unauthorized: authentication required.",
        "name": "UnauthorizedError",
        "ref": "#/components/responses/UnauthorizedError",
        "contentType": "application/json"
      },
      {
        "status": 403,
        "description": "Forbidden: insufficient permissions.",
        "name": "ForbiddenError",
        "ref": "#/components/responses/ForbiddenError",
        "contentType": "application/json"
      },
      {
        "status": 404,
        "description": "Not found: resource does not exist.",
        "name": "NotFoundError",
        "ref": "#/components/responses/NotFoundError",
        "contentType": "application/json"
      },
      {
        "status": 429,
        "description": "Rate limit: too many requests.",
        "name": "TooManyRequestsError",
        "ref": "#/components/responses/TooManyRequestsError",
        "contentType": "application/json"
      }
    ],
    "request": {
      "body": {
        "type": "object",
        "properties": {
          "bannerUrl": {
            "type": ["string", "null"],
            "required": false
          },
          "firstName": {
            "type": ["string", "null"],
            "required": false,
            "minLength": 2,
            "maxLength": 100
          },
          "lastName": {
            "type": ["string", "null"],
            "required": false,
            "minLength": 2,
            "maxLength": 100
          },
          "language": {
            "type": "string",
            "required": false,
            "enum": ["en", "nl"]
          },
          "newsletter": { "type": "boolean", "required": false },
          "thumbnailUrl": {
            "type": ["string", "null"],
            "required": false
          },
          "slug": {
            "type": "string",
            "required": false,
            "minLength": 2,
            "maxLength": 100
          },
          "userFlags": {
            "type": "object",
            "required": false,
            "properties": {
              "finishedOnboarding": { "type": "boolean", "required": false }
            }
          }
        },
        "required": true,
        "contentType": "application/json"
      }
    }
  },
  {
    "operationId": "deleteMe",
    "responses": [
      { "status": 204, "description": "User deleted" },
      {
        "status": 400,
        "description": "Bad request: problem processing request.",
        "name": "BadRequestError",
        "ref": "#/components/responses/BadRequestError",
        "contentType": "application/json"
      },
      {
        "status": 401,
        "description": "Unauthorized: authentication required.",
        "name": "UnauthorizedError",
        "ref": "#/components/responses/UnauthorizedError",
        "contentType": "application/json"
      },
      {
        "status": 403,
        "description": "Forbidden: insufficient permissions.",
        "name": "ForbiddenError",
        "ref": "#/components/responses/ForbiddenError",
        "contentType": "application/json"
      },
      {
        "status": 404,
        "description": "Not found: resource does not exist.",
        "name": "NotFoundError",
        "ref": "#/components/responses/NotFoundError",
        "contentType": "application/json"
      },
      {
        "status": 429,
        "description": "Rate limit: too many requests.",
        "name": "TooManyRequestsError",
        "ref": "#/components/responses/TooManyRequestsError",
        "contentType": "application/json"
      }
    ]
  },
  {
    "operationId": "toggleMfa",
    "responses": [
      {
        "status": 200,
        "description": "User",
        "name": "User",
        "ref": "#/components/schemas/User",
        "contentType": "application/json",
        "schema": {
          "type": "object",
          "properties": {
            "createdAt": { "type": "string", "required": true },
            "id": { "type": "string", "required": true },
            "entityType": {
              "type": "string",
              "required": true,
              "enum": ["user"]
            },
            "name": { "type": "string", "required": true },
            "description": {
              "type": ["string", "null"],
              "required": true
            },
            "slug": { "type": "string", "required": true },
            "thumbnailUrl": {
              "type": ["string", "null"],
              "required": true
            },
            "bannerUrl": {
              "type": ["string", "null"],
              "required": true
            },
            "email": {
              "type": "string",
              "required": true,
              "format": "email"
            },
            "mfaRequired": { "type": "boolean", "required": true },
            "firstName": {
              "type": ["string", "null"],
              "required": true
            },
            "lastName": {
              "type": ["string", "null"],
              "required": true
            },
            "language": {
              "type": "string",
              "required": true,
              "enum": ["en", "nl"]
            },
            "newsletter": { "type": "boolean", "required": true },
            "userFlags": {
              "type": "object",
              "required": true,
              "properties": {
                "finishedOnboarding": { "type": "boolean", "required": true }
              }
            },
            "modifiedAt": {
              "type": ["string", "null"],
              "required": true
            },
            "lastStartedAt": {
              "type": ["string", "null"],
              "required": true
            },
            "lastSignInAt": {
              "type": ["string", "null"],
              "required": true
            },
            "modifiedBy": {
              "type": ["string", "null"],
              "required": true
            },
            "lastSeenAt": {
              "required": true,
              "anyOf": [
                { "type": "string", "required": false },
                { "type": "null", "required": false }
              ]
            }
          },
          "ref": "#/components/schemas/User",
          "contentType": "application/json"
        },
        "example": {
          "id": "w6g7sfzetbhjls7m9dg1xzav",
          "entityType": "user",
          "name": "Franco Corwin",
          "firstName": "Franco",
          "lastName": "Corwin",
          "email": "franco_corwin@gmail.com",
          "slug": "francocorwin",
          "description": null,
          "thumbnailUrl": null,
          "bannerUrl": null,
          "language": "en",
          "newsletter": true,
          "mfaRequired": false,
          "userFlags": {},
          "createdAt": "2024-12-13T11:17:23.643Z",
          "modifiedAt": "2024-12-13T11:17:23.643Z",
          "modifiedBy": null,
          "lastStartedAt": "2024-12-13T11:17:23.643Z",
          "lastSignInAt": "2024-12-13T11:17:23.643Z",
          "lastSeenAt": "2024-12-13T11:17:23.643Z"
        }
      },
      {
        "status": 400,
        "description": "Bad request: problem processing request.",
        "name": "BadRequestError",
        "ref": "#/components/responses/BadRequestError",
        "contentType": "application/json"
      },
      {
        "status": 401,
        "description": "Unauthorized: authentication required.",
        "name": "UnauthorizedError",
        "ref": "#/components/responses/UnauthorizedError",
        "contentType": "application/json"
      },
      {
        "status": 403,
        "description": "Forbidden: insufficient permissions.",
        "name": "ForbiddenError",
        "ref": "#/components/responses/ForbiddenError",
        "contentType": "application/json"
      },
      {
        "status": 404,
        "description": "Not found: resource does not exist.",
        "name": "NotFoundError",
        "ref": "#/components/responses/NotFoundError",
        "contentType": "application/json"
      },
      {
        "status": 429,
        "description": "Rate limit: too many requests.",
        "name": "TooManyRequestsError",
        "ref": "#/components/responses/TooManyRequestsError",
        "contentType": "application/json"
      }
    ],
    "request": {
      "body": {
        "type": "object",
        "properties": {
          "passkeyData": {
            "type": "object",
            "required": false,
            "properties": {
              "credentialId": { "type": "string", "required": true },
              "clientDataJSON": { "type": "string", "required": true },
              "authenticatorObject": { "type": "string", "required": true },
              "signature": { "type": "string", "required": true }
            }
          },
          "totpCode": { "type": "string", "required": false },
          "mfaRequired": { "type": "boolean", "required": true }
        },
        "required": false,
        "contentType": "application/json"
      }
    }
  },
  {
    "operationId": "getMyAuth",
    "responses": [
      {
        "status": 200,
        "description": "User sign-up info",
        "name": "MeAuthData",
        "ref": "#/components/schemas/MeAuthData",
        "contentType": "application/json",
        "schema": {
          "type": "object",
          "properties": {
            "enabledOAuth": {
              "type": "array",
              "required": true,
              "itemType": "string",
              "enum": ["github"]
            },
            "hasTotp": { "type": "boolean", "required": true },
            "hasPassword": { "type": "boolean", "required": true },
            "sessions": {
              "type": "array",
              "required": true,
              "itemType": "object",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "required": true },
                  "type": {
                    "type": "string",
                    "required": true,
                    "enum": ["regular", "impersonation", "mfa"]
                  },
                  "userId": { "type": "string", "required": true },
                  "deviceName": {
                    "type": ["string", "null"],
                    "required": true
                  },
                  "deviceType": {
                    "type": "string",
                    "required": true,
                    "enum": ["desktop", "mobile"]
                  },
                  "deviceOs": {
                    "type": ["string", "null"],
                    "required": true
                  },
                  "browser": {
                    "type": ["string", "null"],
                    "required": true
                  },
                  "authStrategy": {
                    "type": "string",
                    "required": true,
                    "enum": ["github", "google", "microsoft", "password", "passkey", "totp", "email"]
                  },
                  "createdAt": { "type": "string", "required": true },
                  "expiresAt": { "type": "string", "required": true },
                  "isCurrent": { "type": "boolean", "required": true }
                }
              }
            },
            "passkeys": {
              "type": "array",
              "required": true,
              "itemType": "object",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "required": true },
                  "userId": { "type": "string", "required": true },
                  "deviceName": {
                    "type": ["string", "null"],
                    "required": true
                  },
                  "deviceType": {
                    "type": "string",
                    "required": true,
                    "enum": ["desktop", "mobile"]
                  },
                  "deviceOs": {
                    "type": ["string", "null"],
                    "required": true
                  },
                  "browser": {
                    "type": ["string", "null"],
                    "required": true
                  },
                  "nameOnDevice": { "type": "string", "required": true },
                  "createdAt": { "type": "string", "required": true }
                }
              }
            }
          },
          "ref": "#/components/schemas/MeAuthData",
          "contentType": "application/json"
        },
        "example": {
          "enabledOAuth": ["github"],
          "hasTotp": false,
          "hasPassword": true,
          "sessions": [
            {
              "id": "1yyluhj040oyd732g8rl7t64",
              "userId": "ccb8qru6yupvx5ntxp604xgo",
              "type": "regular",
              "createdAt": "2024-05-29T08:00:36.178Z",
              "expiresAt": "2024-06-28T08:00:36.178Z",
              "deviceName": "Safari on iPhone",
              "deviceType": "mobile",
              "deviceOs": "Windows",
              "browser": "Safari",
              "authStrategy": "password",
              "isCurrent": true
            }
          ],
          "passkeys": []
        }
      },
      {
        "status": 400,
        "description": "Bad request: problem processing request.",
        "name": "BadRequestError",
        "ref": "#/components/responses/BadRequestError",
        "contentType": "application/json"
      },
      {
        "status": 401,
        "description": "Unauthorized: authentication required.",
        "name": "UnauthorizedError",
        "ref": "#/components/responses/UnauthorizedError",
        "contentType": "application/json"
      },
      {
        "status": 403,
        "description": "Forbidden: insufficient permissions.",
        "name": "ForbiddenError",
        "ref": "#/components/responses/ForbiddenError",
        "contentType": "application/json"
      },
      {
        "status": 404,
        "description": "Not found: resource does not exist.",
        "name": "NotFoundError",
        "ref": "#/components/responses/NotFoundError",
        "contentType": "application/json"
      },
      {
        "status": 429,
        "description": "Rate limit: too many requests.",
        "name": "TooManyRequestsError",
        "ref": "#/components/responses/TooManyRequestsError",
        "contentType": "application/json"
      }
    ]
  },
  {
    "operationId": "getMyInvitations",
    "responses": [
      {
        "status": 200,
        "description": "Invitations pending",
        "contentType": "application/json",
        "schema": {
          "type": "object",
          "properties": {
            "items": {
              "type": "array",
              "required": true,
              "itemType": "object",
              "items": {
                "type": "object",
                "properties": {
                  "entity": {
                    "type": "object",
                    "required": true,
                    "properties": {
                      "id": { "type": "string", "required": true },
                      "name": { "type": "string", "required": true },
                      "description": {
                        "type": ["string", "null"],
                        "required": true
                      },
                      "createdAt": { "type": "string", "required": true },
                      "modifiedAt": {
                        "type": ["string", "null"],
                        "required": true
                      },
                      "entityType": {
                        "type": "string",
                        "required": true,
                        "enum": ["organization"]
                      },
                      "slug": { "type": "string", "required": true },
                      "thumbnailUrl": {
                        "type": ["string", "null"],
                        "required": true
                      },
                      "bannerUrl": {
                        "type": ["string", "null"],
                        "required": true
                      }
                    },
                    "ref": "#/components/schemas/ContextEntityBase"
                  },
                  "inactiveMembership": {
                    "type": "object",
                    "required": true,
                    "properties": {
                      "createdAt": { "type": "string", "required": true },
                      "id": { "type": "string", "required": true },
                      "contextType": {
                        "type": "string",
                        "required": true,
                        "enum": ["organization"]
                      },
                      "email": { "type": "string", "required": true },
                      "userId": {
                        "type": ["string", "null"],
                        "required": true
                      },
                      "tokenId": {
                        "type": ["string", "null"],
                        "required": true
                      },
                      "role": {
                        "type": "string",
                        "required": true,
                        "enum": ["member", "admin"]
                      },
                      "rejectedAt": {
                        "type": ["string", "null"],
                        "required": true
                      },
                      "createdBy": { "type": "string", "required": true },
                      "organizationId": { "type": "string", "required": true },
                      "uniqueKey": { "type": "string", "required": true }
                    },
                    "ref": "#/components/schemas/InactiveMembership"
                  }
                }
              }
            },
            "total": { "type": "number", "required": true }
          },
          "contentType": "application/json"
        }
      },
      {
        "status": 400,
        "description": "Bad request: problem processing request.",
        "name": "BadRequestError",
        "ref": "#/components/responses/BadRequestError",
        "contentType": "application/json"
      },
      {
        "status": 401,
        "description": "Unauthorized: authentication required.",
        "name": "UnauthorizedError",
        "ref": "#/components/responses/UnauthorizedError",
        "contentType": "application/json"
      },
      {
        "status": 403,
        "description": "Forbidden: insufficient permissions.",
        "name": "ForbiddenError",
        "ref": "#/components/responses/ForbiddenError",
        "contentType": "application/json"
      },
      {
        "status": 404,
        "description": "Not found: resource does not exist.",
        "name": "NotFoundError",
        "ref": "#/components/responses/NotFoundError",
        "contentType": "application/json"
      },
      {
        "status": 429,
        "description": "Rate limit: too many requests.",
        "name": "TooManyRequestsError",
        "ref": "#/components/responses/TooManyRequestsError",
        "contentType": "application/json"
      }
    ]
  },
  {
    "operationId": "deleteMySessions",
    "responses": [
      {
        "status": 200,
        "description": "Success",
        "name": "SuccessWithRejectedItems",
        "ref": "#/components/schemas/SuccessWithRejectedItems",
        "contentType": "application/json",
        "schema": {
          "type": "object",
          "properties": {
            "success": { "type": "boolean", "required": true },
            "rejectedItemIds": {
              "type": "array",
              "required": true,
              "itemType": "string"
            }
          },
          "ref": "#/components/schemas/SuccessWithRejectedItems",
          "contentType": "application/json"
        },
        "example": {
          "success": true,
          "rejectedItemIds": []
        }
      },
      {
        "status": 400,
        "description": "Bad request: problem processing request.",
        "name": "BadRequestError",
        "ref": "#/components/responses/BadRequestError",
        "contentType": "application/json"
      },
      {
        "status": 401,
        "description": "Unauthorized: authentication required.",
        "name": "UnauthorizedError",
        "ref": "#/components/responses/UnauthorizedError",
        "contentType": "application/json"
      },
      {
        "status": 403,
        "description": "Forbidden: insufficient permissions.",
        "name": "ForbiddenError",
        "ref": "#/components/responses/ForbiddenError",
        "contentType": "application/json"
      },
      {
        "status": 404,
        "description": "Not found: resource does not exist.",
        "name": "NotFoundError",
        "ref": "#/components/responses/NotFoundError",
        "contentType": "application/json"
      },
      {
        "status": 429,
        "description": "Rate limit: too many requests.",
        "name": "TooManyRequestsError",
        "ref": "#/components/responses/TooManyRequestsError",
        "contentType": "application/json"
      }
    ],
    "request": {
      "body": {
        "type": "object",
        "properties": {
          "ids": {
            "type": "array",
            "required": true,
            "minItems": 1,
            "maxItems": 50,
            "itemType": "string"
          }
        },
        "required": false,
        "contentType": "application/json"
      }
    }
  },
  {
    "operationId": "deleteMyMembership",
    "responses": [
      { "status": 204, "description": "Membership removed" },
      {
        "status": 400,
        "description": "Bad request: problem processing request.",
        "name": "BadRequestError",
        "ref": "#/components/responses/BadRequestError",
        "contentType": "application/json"
      },
      {
        "status": 401,
        "description": "Unauthorized: authentication required.",
        "name": "UnauthorizedError",
        "ref": "#/components/responses/UnauthorizedError",
        "contentType": "application/json"
      },
      {
        "status": 403,
        "description": "Forbidden: insufficient permissions.",
        "name": "ForbiddenError",
        "ref": "#/components/responses/ForbiddenError",
        "contentType": "application/json"
      },
      {
        "status": 404,
        "description": "Not found: resource does not exist.",
        "name": "NotFoundError",
        "ref": "#/components/responses/NotFoundError",
        "contentType": "application/json"
      },
      {
        "status": 429,
        "description": "Rate limit: too many requests.",
        "name": "TooManyRequestsError",
        "ref": "#/components/responses/TooManyRequestsError",
        "contentType": "application/json"
      }
    ],
    "request": {
      "query": {
        "properties": {
          "idOrSlug": {
            "type": "string",
            "required": true,
            "description": "Entity ID or slug. ID is always preferred."
          },
          "entityType": {
            "type": "string",
            "required": true,
            "enum": ["organization"]
          }
        }
      }
    }
  },
  {
    "operationId": "getUploadToken",
    "responses": [
      {
        "status": 200,
        "description": "Upload token with a scope for a user or organization",
        "name": "UploadToken",
        "ref": "#/components/schemas/UploadToken",
        "contentType": "application/json",
        "schema": {
          "type": "object",
          "properties": {
            "public": { "type": "boolean", "required": true },
            "sub": { "type": "string", "required": true },
            "s3": { "type": "boolean", "required": true },
            "signature": { "type": "string", "required": true },
            "params": {
              "type": "object",
              "required": true,
              "properties": {
                "auth": {
                  "type": "object",
                  "required": true,
                  "properties": {
                    "key": { "type": "string", "required": true },
                    "expires": { "type": "string", "required": false }
                  }
                }
              }
            }
          },
          "ref": "#/components/schemas/UploadToken",
          "contentType": "application/json"
        },
        "example": {
          "public": false,
          "sub": "x1lsgegsw6imziogthaolhvy",
          "s3": true,
          "signature": "gVDbK1LX8P8h331cTbWcxbI0jNE5VeefPu4tppgCIGv475Bji47m4QdeTtGv8cYg",
          "params": {
            "auth": { "key": "uploads/kx5n7c1cush46z5cnizlmyd8", "expires": "2025-01-01T04:15:50.483Z" }
          }
        }
      },
      {
        "status": 400,
        "description": "Bad request: problem processing request.",
        "name": "BadRequestError",
        "ref": "#/components/responses/BadRequestError",
        "contentType": "application/json"
      },
      {
        "status": 401,
        "description": "Unauthorized: authentication required.",
        "name": "UnauthorizedError",
        "ref": "#/components/responses/UnauthorizedError",
        "contentType": "application/json"
      },
      {
        "status": 403,
        "description": "Forbidden: insufficient permissions.",
        "name": "ForbiddenError",
        "ref": "#/components/responses/ForbiddenError",
        "contentType": "application/json"
      },
      {
        "status": 404,
        "description": "Not found: resource does not exist.",
        "name": "NotFoundError",
        "ref": "#/components/responses/NotFoundError",
        "contentType": "application/json"
      },
      {
        "status": 429,
        "description": "Rate limit: too many requests.",
        "name": "TooManyRequestsError",
        "ref": "#/components/responses/TooManyRequestsError",
        "contentType": "application/json"
      }
    ],
    "request": {
      "query": {
        "properties": {
          "public": {
            "required": false,
            "anyOf": [
              { "type": "string", "required": false },
              { "type": "boolean", "required": false }
            ]
          },
          "organizationId": { "type": "string", "required": false },
          "templateId": {
            "type": "string",
            "required": true,
            "enum": ["avatar", "cover", "attachment"]
          }
        }
      }
    }
  },
  {
    "operationId": "unsubscribeMe",
    "responses": [
      { "status": 302, "description": "Redirect to FE" },
      {
        "status": 400,
        "description": "Bad request: problem processing request.",
        "name": "BadRequestError",
        "ref": "#/components/responses/BadRequestError",
        "contentType": "application/json"
      },
      {
        "status": 401,
        "description": "Unauthorized: authentication required.",
        "name": "UnauthorizedError",
        "ref": "#/components/responses/UnauthorizedError",
        "contentType": "application/json"
      },
      {
        "status": 403,
        "description": "Forbidden: insufficient permissions.",
        "name": "ForbiddenError",
        "ref": "#/components/responses/ForbiddenError",
        "contentType": "application/json"
      },
      {
        "status": 404,
        "description": "Not found: resource does not exist.",
        "name": "NotFoundError",
        "ref": "#/components/responses/NotFoundError",
        "contentType": "application/json"
      },
      {
        "status": 429,
        "description": "Rate limit: too many requests.",
        "name": "TooManyRequestsError",
        "ref": "#/components/responses/TooManyRequestsError",
        "contentType": "application/json"
      }
    ],
    "request": {
      "query": {
        "properties": {
          "token": { "type": "string", "required": true }
        }
      }
    }
  },
  {
    "operationId": "getUserStream",
    "responses": [
      {
        "status": 200,
        "description": "SSE stream or catch-up response",
        "contentType": "application/json",
        "schema": {
          "type": "object",
          "properties": {
            "activities": {
              "type": "array",
              "required": true,
              "itemType": "object"
            },
            "cursor": {
              "type": ["string", "null"],
              "required": true
            }
          },
          "contentType": "application/json"
        }
      },
      {
        "status": 400,
        "description": "Bad request: problem processing request.",
        "name": "BadRequestError",
        "ref": "#/components/responses/BadRequestError",
        "contentType": "application/json"
      },
      {
        "status": 401,
        "description": "Unauthorized: authentication required.",
        "name": "UnauthorizedError",
        "ref": "#/components/responses/UnauthorizedError",
        "contentType": "application/json"
      },
      {
        "status": 403,
        "description": "Forbidden: insufficient permissions.",
        "name": "ForbiddenError",
        "ref": "#/components/responses/ForbiddenError",
        "contentType": "application/json"
      },
      {
        "status": 404,
        "description": "Not found: resource does not exist.",
        "name": "NotFoundError",
        "ref": "#/components/responses/NotFoundError",
        "contentType": "application/json"
      },
      {
        "status": 429,
        "description": "Rate limit: too many requests.",
        "name": "TooManyRequestsError",
        "ref": "#/components/responses/TooManyRequestsError",
        "contentType": "application/json"
      }
    ],
    "request": {
      "query": {
        "properties": {
          "offset": {
            "type": "string",
            "required": false,
            "description": "Starting offset: 'now' for live-only, or activity ID for catch-up"
          },
          "live": {
            "type": "string",
            "required": false,
            "description": "Connection mode: 'sse' for streaming, 'poll' for one-time fetch",
            "enum": ["sse", "poll"]
          }
        }
      }
    }
  }
]